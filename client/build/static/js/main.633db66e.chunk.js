(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{270:function(e,t,a){e.exports=a(354)},278:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){},313:function(e,t,a){},314:function(e,t,a){},320:function(e,t,a){},321:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){},330:function(e,t,a){},331:function(e,t,a){},342:function(e,t,a){},343:function(e,t,a){},344:function(e,t,a){},345:function(e,t,a){},347:function(e,t,a){},348:function(e,t,a){},349:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},352:function(e,t,a){},354:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(188),o=a.n(c),r=(a(278),a(279),a(280),a(25));const i={user:JSON.parse(localStorage.getItem("user"))||null,loading:!1,error:null},s=Object(n.createContext)(i),m=(e,t)=>{switch(t.type){case"LOGIN_START":return{user:null,loading:!0,error:null};case"LOGIN_SUCCESS":return{user:t.payload,loading:!1,error:null};case"LOGIN_FAILURE":return{user:null,loading:!1,error:t.payload};case"LOGOUT":return{user:null,loading:!1,error:null};default:return e}},d=e=>{let{children:t}=e;const[a,c]=Object(n.useReducer)(m,i);return Object(n.useEffect)(()=>{var e;const t={username:null===(e=a.user)||void 0===e?void 0:e.username};localStorage.setItem("user",JSON.stringify(t))},[a.user]),l.a.createElement(s.Provider,{value:{user:a.user,loading:a.loading,error:a.error,dispatch:c}},t)};var h=a(14),u=a(428);var g=()=>{const[e,t]=Object(n.useState)(""),{dispatch:a}=Object(n.useContext)(s),[c,o]=Object(n.useState)(!1),i=Object(h.p)();Object(n.useEffect)(()=>{function e(){const e=JSON.parse(localStorage.getItem("user"));e&&t(e)}return setTimeout(e,1),window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]);return l.a.createElement("div",{className:"navbar"},l.a.createElement("div",{className:"navContainer"},l.a.createElement(r.b,{to:"/",style:{color:"inherit",textDecoration:"none"}},l.a.createElement("h1",{className:"logo_name"},"HotelBooking")),(null===e||void 0===e?void 0:e.username)?l.a.createElement("div",{className:"logout"},l.a.createElement(r.b,{to:"/admin/hotels"},l.a.createElement("button",{className:"navButton"},"Qua\u0309n ly\u0301 ch\xf4\u0303 nghi\u0309 cu\u0309a ba\u0323n")),l.a.createElement(r.b,{to:"/bookings"},l.a.createElement("button",{className:"navButton"},"\u0110\u01a1n \u0111\u0103\u0323t pho\u0300ng cu\u0309a ba\u0323n")),l.a.createElement("div",{className:"account"},l.a.createElement("h1",{onClick:()=>{o(!c)}},"Xin ch\xe0o, ",null===e||void 0===e?void 0:e.username),c&&l.a.createElement("div",{className:"account_options"},l.a.createElement("div",{style:{fontWeight:"bold",cursor:"pointer"},onClick:()=>(e=>{i("/admin/changePassword",{state:{item:e}})})("changePassword")},"\u0110\u1ed5i m\u1eadt kh\u1ea9u"))),l.a.createElement("button",{className:"navButton",onClick:async()=>{await u.a.post("/auth/logout"),i("/login"),a({type:"LOGOUT"})}},"\u0110\u0103ng xu\xe2\u0301t")):l.a.createElement("div",{className:"navItems"},l.a.createElement(r.b,{to:"/register"},l.a.createElement("button",{className:"navButton"},"\u0110\u0103ng ky\u0301")),l.a.createElement(r.b,{to:"/login"},l.a.createElement("button",{className:"navButton"},"\u0110\u0103ng nh\xe2\u0323p")))))},p=a(44),E=a(47),v=a(67),y=(a(300),a(301),a(148)),b=a(146),N=a(235);a(302);const f=(new Date).getTimezoneOffset()/60,C=Object(N.a)(new Date,-7-f+10);C.setHours(0,0,0,0);const w=Object(N.a)(C,7-f),x={destination:"Ha\u0300 N\xf4\u0323i",dates:[{startDate:w,endDate:Object(b.default)(w,1),key:"selection"}],options:{adult:2,children:0,room:1}},k=Object(n.createContext)(x),O=(e,t)=>{switch(t.type){case"NEW_SEARCH":return t.payload;case"RESET_SEARCH":return x;default:return e}},D=e=>{let{children:t}=e;const[a,c]=Object(n.useReducer)(O,x);return l.a.createElement(k.Provider,{value:{destination:a.destination,dates:a.dates,options:a.options,dispatch:c}},t)},j=[{name:"Ha\u0300 N\xf4\u0323i",imageUrl:"https://ik.imagekit.io/tvlk/blog/2023/09/ho-guom-1.jpg?tr=dpr-2,w-675"},{name:"Ninh Bi\u0300nh",imageUrl:"https://cdn.tgdd.vn/Files/2022/03/28/1422795/kinh-nghiem-du-lich-chua-bai-dinh-ninh-binh-day-du-tu-a-z-202203282349275615.jpg"},{name:"\u0110a\u0300 N\u0103\u0303ng",imageUrl:"https://vietnam.travel/sites/default/files/2018-10/danang%20travel%20guide.jpg"},{name:"Ha\u0309i Pho\u0300ng",imageUrl:"https://example.com/haiphong.jpg"},{name:"C\xe2\u0300n Th\u01a1",imageUrl:"https://example.com/cantho.jpg"},{name:"H\xf4\u0300 Chi\u0301 Minh",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/a/a6/Ho_Chi_Minh_City.jpg"},{name:"Qua\u0309ng Ninh",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/e/e6/Ha_Long_Bay.jpg"},{name:"La\u0300o Cai",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/5/51/Sa_Pa_Town.jpg"},{name:"Tha\u0301i Nguy\xean",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/2/2b/Thai_Nguyen_city.jpg"},{name:"Phu\u0301 Tho\u0323",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/7/79/Hung_Temple_Festival.jpg"},{name:"Ha\u0300 Ti\u0303nh",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/1/1e/Ke_Go_Lake.jpg"},{name:"Hu\xea\u0301",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/f/ff/Hue_City.jpg"},{name:"Kha\u0301nh Ho\u0300a",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/3/3a/Nha_Trang_Beach.jpg"},{name:"Bi\u0300nh Thu\xe2\u0323n",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/7/7d/Mui_Ne.jpg"},{name:"Ba\u0300 Ri\u0323a - Vu\u0303ng Ta\u0300u",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/9/91/Vung_Tau_Beach.jpg"},{name:"Ca\u0300 Mau",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/9/91/Vung_Tau_Beach.jpg"}];var S=e=>{let{type:t}=e;const a=Object(n.useContext)(k),[c,o]=Object(n.useState)(a.destination),[r,i]=Object(n.useState)(a.dates),[m,d]=Object(n.useState)(!1),[u,g]=Object(n.useState)(a.options),f=(new Date).getTimezoneOffset()/60,[C,w]=Object(n.useState)(!1),[x,O]=Object(n.useState)([]),D=Object(h.p)(),S=(e,t)=>{g(a=>({...a,[e]:"i"===t?u[e]+1:u[e]-1})),I({type:"NEW_SEARCH",payload:{destination:c,dates:r,options:u}})},{dispatch:I}=Object(n.useContext)(k),{user:T}=Object(n.useContext)(s);return l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"list"===t?"headerContainer listMode":"headerContainer"},"list"!==t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"headerTitle"},"Du li\u0323ch \u0111\xea\u0301n b\xe2\u0301t c\u01b0\u0301 \u0111\xe2u tr\xean Vi\xea\u0323t Nam"),l.a.createElement("p",{className:"headerDesc"},"Cho\u0323n kha\u0301ch sa\u0323n v\u01a1\u0301i gia\u0301 re\u0309 nh\xe2\u0301t da\u0300nh cho ba\u0323n"),l.a.createElement("div",{className:"headerSearch"},l.a.createElement("div",{className:"headerSearchItem"},l.a.createElement(E.a,{icon:p.a,className:"headerIcon"}),l.a.createElement("input",{style:{fontSize:"16px",color:"black"},type:"text",value:c,className:"headerSearchInput ",onChange:e=>{const t=e.target.value;if(o(t),t){const e=j.filter(e=>e.name.toLowerCase().startsWith(t.toLowerCase())).map(e=>e.name);O(e)}else O([])}}),x.length>0&&l.a.createElement("div",{className:"suggestionDestination"},l.a.createElement("div",{className:"suggestionsList"},x.map((e,t)=>l.a.createElement("div",{key:t,className:"suggestionItem",onClick:()=>(e=>{o(e),O([])})(e)},e))))),l.a.createElement("div",{className:"headerSearchItem"},l.a.createElement(E.a,{icon:p.b,className:"headerIcon"}),l.a.createElement("span",{onClick:()=>d(!m),className:"headerSearchText"},"".concat(Object(y.default)(r[0].startDate,"dd/MM/yyyy")," \u0111\xea\u0301n ").concat(Object(y.default)(r[0].endDate,"dd/MM/yyyy"))),m&&l.a.createElement(v.DateRange,{editableDateInputs:!0,onChange:e=>{const t=(new Date).getTimezoneOffset()/60,a={...e.selection};let{startDate:n,endDate:l}=a;n===l&&(l=Object(b.default)(new Date(n),1)),n=Object(N.a)(n,7-t),l=Object(N.a)(l,7-t),i([{...a,startDate:n,endDate:l}])},moveRangeOnFirstSelection:!0,ranges:r,className:"date",minDate:Object(N.a)(new Date,-7-f+10),maxDate:Object(b.default)(new Date,365)})),l.a.createElement("div",{className:"headerSearchItem"},l.a.createElement(E.a,{icon:p.g,className:"headerIcon"}),l.a.createElement("span",{onClick:()=>w(!C),className:"headerSearchText"},"".concat(u.adult," ng\u01b0\u01a1\u0300i l\u01a1\u0301n \xb7 ").concat(u.children," tre\u0309 em \xb7 ").concat(u.room," pho\u0300ng")),C&&l.a.createElement("div",{className:"options"},l.a.createElement("div",{className:"optionItem"},l.a.createElement("span",{className:"optionText"},"Ng\u01b0\u01a1\u0300i l\u01a1\u0301n"),l.a.createElement("div",{className:"optionCounter"},l.a.createElement("button",{disabled:u.adult<=1,className:"optionCounterButton",onClick:()=>S("adult","d")},"-"),l.a.createElement("span",{className:"optionCounterNumber"},u.adult),l.a.createElement("button",{className:"optionCounterButton",onClick:()=>S("adult","i")},"+"))),l.a.createElement("div",{className:"optionItem"},l.a.createElement("span",{className:"optionText"},"Tre\u0309 em"),l.a.createElement("div",{className:"optionCounter"},l.a.createElement("button",{disabled:u.children<=0,className:"optionCounterButton",onClick:()=>S("children","d")},"-"),l.a.createElement("span",{className:"optionCounterNumber"},u.children),l.a.createElement("button",{className:"optionCounterButton",onClick:()=>S("children","i")},"+"))),l.a.createElement("div",{className:"optionItem"},l.a.createElement("span",{className:"optionText"},"Pho\u0300ng"),l.a.createElement("div",{className:"optionCounter"},l.a.createElement("button",{disabled:u.room<=1,className:"optionCounterButton",onClick:()=>S("room","d")},"-"),l.a.createElement("span",{className:"optionCounterNumber"},u.room),l.a.createElement("button",{className:"optionCounterButton",onClick:()=>S("room","i")},"+"))))),l.a.createElement("div",{className:"headerSearchItem"},l.a.createElement("button",{className:"headerBtn",onClick:()=>{I({type:"NEW_SEARCH",payload:{destination:c,dates:r,options:u}}),D("/hotels",{state:{destination:c,dates:r,options:u}})}},"Ti\u0300m ki\xea\u0301m"))))))};var I=e=>{const[t,a]=Object(n.useState)([]),[l,c]=Object(n.useState)(!1),[o,r]=Object(n.useState)(!1);Object(n.useEffect)(()=>{(async()=>{c(!0);try{const n=await u.a.get(e);a(n.data)}catch(t){t.response&&401===t.response.status?window.location.href="/login":(console.log(t),r(t))}c(!1)})()},[e]);return{data:t,loading:l,error:o,reFetch:async()=>{c(!0);try{const n=await u.a.get(e);a(n.data)}catch(t){r(t)}c(!1)}}};a(303);var T=()=>{var e,t,a,c,o,r,i,s,m;const{data:d,loading:u,error:g}=I("/hotels/countByCity"),p=Object(n.useContext)(k),[E,v]=Object(n.useState)(p.destination),[y,b]=Object(n.useState)(p.dates),[N,f]=Object(n.useState)(p.options),C=Object(h.p)(),{dispatch:w}=Object(n.useContext)(k);function x(e){w({type:"NEW_SEARCH",payload:{destination:e,dates:y,options:N}}),C("/hotels")}const O=e=>{const t=j.find(t=>t.name==e);return null===t||void 0===t?void 0:t.imageUrl};return l.a.createElement("div",{className:"featured"},u?"Loading please wait":l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"featuredItem",onClick:()=>x(d[0].city)},l.a.createElement("img",{src:O(null===(e=d[0])||void 0===e?void 0:e.city),alt:"",className:"featuredImg"}),l.a.createElement("div",{className:"featuredTitles"},l.a.createElement("h1",null,null===(t=d[0])||void 0===t?void 0:t.city),l.a.createElement("h2",null,null===(a=d[0])||void 0===a?void 0:a.quantity," ch\xf4\u0303 nghi\u0309"))),l.a.createElement("div",{className:"featuredItem",onClick:()=>x(d[1].city)},l.a.createElement("img",{src:O(null===(c=d[1])||void 0===c?void 0:c.city),alt:"",className:"featuredImg"}),l.a.createElement("div",{className:"featuredTitles"},l.a.createElement("h1",null,null===(o=d[1])||void 0===o?void 0:o.city),l.a.createElement("h2",null,null===(r=d[1])||void 0===r?void 0:r.quantity," ch\xf4\u0303 nghi\u0309"))),l.a.createElement("div",{className:"featuredItem",onClick:()=>x(d[2].city)},l.a.createElement("img",{src:O(null===(i=d[2])||void 0===i?void 0:i.city),alt:"",className:"featuredImg"}),l.a.createElement("div",{className:"featuredTitles"},l.a.createElement("h1",null,null===(s=d[2])||void 0===s?void 0:s.city),l.a.createElement("h2",null,null===(m=d[2])||void 0===m?void 0:m.quantity," ch\xf4\u0303 nghi\u0309")))))};a(304),a(305);var R=()=>{const{data:e,loading:t,error:a}=I("/hotels/countByType"),n=Object(h.p)();return l.a.createElement("div",{className:"pList"},t?"loading":l.a.createElement(l.a.Fragment,null,e&&["https://cf.bstatic.com/xdata/images/xphoto/square300/57584488.webp?k=bf724e4e9b9b75480bbe7fc675460a089ba6414fe4693b83ea3fdd8e938832a6&o=","https://cf.bstatic.com/static/img/theme-index/carousel_320x240/card-image-apartments_300/9f60235dc09a3ac3f0a93adbc901c61ecd1ce72e.jpg","https://cf.bstatic.com/static/img/theme-index/carousel_320x240/bg_resorts/6f87c6143fbd51a0bb5d15ca3b9cf84211ab0884.jpg","https://cf.bstatic.com/static/img/theme-index/carousel_320x240/card-image-villas_300/dd0d7f8202676306a661aa4f0cf1ffab31286211.jpg"].map((t,a)=>{var c,o,r;return l.a.createElement("div",{onClick:()=>{var t;return(e=>{n("/hotels",{state:{typeFromPropertyList:e}})})(null===(t=e[a])||void 0===t?void 0:t.type)},className:"pListItem",key:a},l.a.createElement("img",{src:t,alt:"",className:"pListImg"}),l.a.createElement("div",{className:"pListTitles"},l.a.createElement("h1",null,null===(c=e[a])||void 0===c?void 0:c.type),l.a.createElement("h2",null,null===(o=e[a])||void 0===o?void 0:o.count," ",null===(r=e[a])||void 0===r?void 0:r.type," tr\xean trang chu\u0301ng t\xf4i")))})))};a(306);var A=()=>{const[e,t]=Object(n.useState)(""),{data:a,loading:c,error:o,reFetch:i}=I("/hotels"),{data:s,loadingSuggestedHotel:m,errorSuggestedHotel:d,reFetchSuggestedHotel:h}=I("/hotels?city=".concat(e)),[u,g]=Object(n.useState)("");Object(n.useEffect)(()=>{if(!c){console.log(a);const e=localStorage.getItem("idHotelSeen"),n=e?JSON.parse(e):[];if(0==n.length)t("Ha\u0300 N\xf4\u0323i");else{g(n);const e={};for(let t=0;t<n.length;t++){const l=n[t],c=a.find(e=>e._id==l);c&&(e[c.city]=(e[c.city]||0)+1)}console.log(e);let l=0,c="";for(const t in e)e[t]>l&&(l=e[t],c=t);t(c)}}},[c]),console.log(e);const p=s.filter(t=>{var a,n;return!u.includes(t._id)&&0!==(null===(a=t.cheapestPrice)||void 0===a?void 0:a.price)&&void 0!==(null===(n=t.cheapestPrice)||void 0===n?void 0:n.price)&&t.city==e}),E=p.length>3?p.slice(0,3):p;return l.a.createElement("div",{className:"recentHotelContainer"},l.a.createElement("h1",{style:{fontSize:"20px"}},"Ca\u0301c ch\xf4\u0303 nghi\u0309 \u01a1\u0309 ",e),c||!e?"Loading":l.a.createElement("div",{className:"fp"},E.map((e,t)=>l.a.createElement("div",{className:"fpItem",key:e._id},l.a.createElement(r.b,{to:"hotels/".concat(e._id)},l.a.createElement("img",{src:e.photos[0],alt:"",className:"fpImg"})),l.a.createElement("span",{className:"fpName"},e.name),l.a.createElement("span",{className:"fpCity"},e.city),l.a.createElement("span",{className:"fpPrice"},"Gia\u0301 chi\u0309 t\u01b0\u0300  ",Intl.NumberFormat("vi-VN").format(1e3*e.cheapestPrice.price)," VND cho 1 pho\u0300ng m\xf4\u0303i \u0111\xeam"),e.rating&&l.a.createElement("div",{className:"fpRating"})))))};a(307);a(308);var _=()=>l.a.createElement("div",{className:"footer"},l.a.createElement("div",{className:"footerContainer"},l.a.createElement("div",{className:"fLists"},l.a.createElement("ul",{className:"fList"},l.a.createElement("li",{className:"fListItem"},"Theo d\xf5i ch\xfang t\xf4i tr\xean "),l.a.createElement("li",{className:"fListItem"},"Facebook "),l.a.createElement("li",{className:"fListItem"},"Youtube "),l.a.createElement("li",{className:"fListItem"},"Instagram"),l.a.createElement("li",{className:"fListItem"},"Telegram")),l.a.createElement("ul",{className:"fList"},l.a.createElement("li",{className:"fListItem"},"\u0110\u0103\u0323t pho\u0300ng kha\u0301ch sa\u0323n: 0938473948 "),l.a.createElement("li",{className:"fListItem"},"T\u01b0 v\xe2\u0301n \u0111\u0103\u0323t pho\u0300ng: 0847583758"),l.a.createElement("li",{className:"fListItem"},"T\xf4\u0309ng \u0111a\u0300i h\xf4\u0303 tr\u01a1\u0323: 3849573293 "),l.a.createElement("li",{className:"fListItem"},"\u0110i\u0323a \u0111i\xea\u0309m tru\u0323 s\u01a1\u0309: 374 \u0111\u01b0\u01a1\u0300ng ABC, Hai Ba\u0300 Tr\u01b0ng, Ha\u0300 N\xf4\u0323i")),l.a.createElement("ul",{className:"fList"},l.a.createElement("li",{className:"fListItem"},"Chi\u0301nh sa\u0301ch va\u0300 quy \u0111i\u0323nh "),l.a.createElement("li",{className:"fListItem"},"Quy\xea\u0300n ri\xeang t\u01b0"),l.a.createElement("li",{className:"fListItem"},"\u0110i\xea\u0300u khoa\u0309n, \u0111i\xea\u0300u ki\xea\u0323n "),l.a.createElement("li",{className:"fListItem"},"Quy ch\xea\u0301 hoa\u0323t \u0111\xf4\u0323ng")))));var B=()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(g,null),l.a.createElement(S,null),l.a.createElement("div",{className:"homeContainer"},l.a.createElement("h1",{className:"homeTitle"},"N\u01a1i co\u0301 nhi\xea\u0300u ch\xf4\u0303 nghi\u0309"),l.a.createElement(T,null),l.a.createElement(A,null),l.a.createElement("h1",{className:"homeTitle"},"Theo loa\u0323i ch\xf4\u0303 nghi\u0309"),l.a.createElement(R,null),l.a.createElement(_,null)));a(309),a(310);var P=e=>{var t;let{item:a}=e;const{dates:c,options:o}=Object(n.useContext)(k),[i,s]=Object(n.useState)(1),{data:m,loading:d,error:h,reFetch:u}=I("/rooms/".concat(a._id,"/?status=true")),g=864e5;const p=function(e,t){const a=Math.abs(t.getTime()-e.getTime());return Math.ceil(a/g)}(c[0].endDate,c[0].startDate),E=e=>{let t=parseInt(o.adult,10)+.5*parseFloat(o.children);return o.room>Math.floor(t/e.people)?o.room:Math.floor(t/e.people)},v=((e,t)=>{const a=new Date(e),n=new Date(t),l=new Date(a.getTime()),c=[];for(;l<n;)c.push(new Date(l).getTime()),l.setDate(l.getDate()+1);return c})(c[0].startDate,c[0].endDate),y=(e,t)=>!e.unavailableDates.some(e=>{const a=new Date(e).getTime();return t==a}),b=(()=>{let e=0;return e=m.reduce((e,t)=>e+(e=>{let t=999;for(let a of v){let n=0;for(let t of e)y(t,a)&&n++;n<t&&(t=n)}return t})(t.roomNumbers),0)})();return 0===b?null:l.a.createElement("div",{className:"searchItem"},l.a.createElement("img",{src:a.photos[0],alt:"",className:"siImg"}),l.a.createElement("div",{className:"siDesc"},l.a.createElement("h1",{className:"siTitle"},a.name),l.a.createElement("span",{className:"siDistance"},"Khoa\u0309ng ca\u0301ch: ",a.distance,"m t\u01b0\u0300 trung t\xe2m"),0==b?l.a.createElement("span",{className:"siRoomLeft"},"H\u1ebft ph\xf2ng!"):b&&(b<6||b<E(a.cheapestPrice))&&l.a.createElement("span",{className:"siRoomLeft"},"Ch\u1ec9 c\xf2n ",b," ph\xf2ng!"),l.a.createElement("span",{className:"siFeatures"},"\u0110i\u0323a chi\u0309: ",a.address),l.a.createElement("span",{className:"siFacilities"},null===(t=a.facilities)||void 0===t?void 0:t.map((e,t)=>l.a.createElement("div",{className:"siFacilities_item",style:{width:"30%"},key:t},e)))),l.a.createElement("div",{className:"siDetails"},l.a.createElement("div",{className:"siDetailTexts"},l.a.createElement("span",{className:"siPrice"},"Gia\u0301 t\u01b0\u0300: ",(e=>{let t=0,a=parseInt(o.adult,10)+.5*parseFloat(o.children);return t=o.room>Math.floor(a/e.people)?e.price*o.room*p:0==Math.floor(a/e.people)?e.price*p:e.price*Math.floor(a/e.people)*p,Intl.NumberFormat("vi-VN").format(1e3*t)})(a.cheapestPrice)," VND"),l.a.createElement("span",{className:"siTaxOp"},"Cho ",o.adult," ng\u01b0\u01a1\u0300i, ",o.children>0&&", ".concat(o.children," tr\u1ebb em"),", ",E(a.cheapestPrice)," pho\u0300ng, ",p," \u0111\xeam"),l.a.createElement(r.b,{to:"/hotels/".concat(a._id)},l.a.createElement("button",{className:"siCheckButton"},"Xem ch\xf4\u0303 tr\xf4\u0301ng")))))};const F=[{id:"name",label:"T\xean cu\u0309a",type:"text",placeholder:""},{id:"city",label:"Ti\u0309nh tha\u0300nh",type:"text",placeholder:'(Ha\u0303y vi\xea\u0301t \u0111u\u0301ng chi\u0301nh ta\u0309 \u0111\xea\u0309 ng\u01b0\u01a1\u0300i du\u0300ng co\u0301 th\xea\u0309 ti\u0300m \u0111\u01b0\u01a1\u0323c ch\xf4\u0303 nghi\u0309 cu\u0309a ba\u0323n. VD: "Ha\u0300 N\xf4\u0323i", "H\xf4\u0300 Chi\u0301 Minh"'},{id:"address",label:"\u0110i\u0323a chi\u0309 cu\u0309a",type:"text",placeholder:""},{id:"distance",label:"Khoa\u0309ng ca\u0301ch t\u01b0\u0300 trung t\xe2m \u0111\xea\u0301n(m)",type:"number",placeholder:""},{id:"hotelContact",label:"S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i li\xean la\u0323c cu\u0309a ",type:"number",placeholder:"S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i \u0111\xea\u0309 kha\u0301ch co\u0301 th\xea\u0309 go\u0323i cho ba\u0323n sau khi \u0111\u0103\u0323t pho\u0300ng tha\u0300nh c\xf4ng"}],L=[{id:"title",label:"T\xean loa\u0323i pho\u0300ng (hay loa\u0323i c\u0103n h\xf4\u0323, bi\xea\u0323t th\u01b0\u0323,...) cu\u0309a ba\u0323n",type:"text",placeholder:"VD: Pho\u0300ng Deluxe gi\u01b0\u01a1\u0300ng \u0111\xf4i, C\u0103n h\xf4\u0323 2 ngu\u0309,..."},{id:"maxPeople",label:"S\xf4\u0301 ng\u01b0\u01a1\u0300i",type:"number",placeholder:"S\xf4\u0301 ng\u01b0\u01a1\u0300i cho loa\u0323i pho\u0300ng (hay loa\u0323i c\u0103n h\xf4\u0323, bi\xea\u0323t th\u01b0\u0323,...) na\u0300y"},{id:"price",label:"Gia\u0301 m\xf4\u0303i \u0111\xeam (\u0110\u01a1n vi\u0323: nghi\u0300n \u0111\xf4\u0300ng. Vi\u0301 du\u0323 gia\u0301 250.000 VND thi\u0300 ha\u0303y ghi 250)",type:"number",placeholder:""},{id:"roomNumbers",label:"S\xf4\u0301 l\u01b0\u01a1\u0323ng",type:"number",placeholder:"S\xf4\u0301 l\u01b0\u01a1\u0323ng pho\u0300ng (hay c\u0103n h\xf4\u0323, bi\xea\u0323t th\u01b0\u0323,...) ba\u0323n mu\xf4\u0301n ba\u0301n cho loa\u0323i pho\u0300ng (hay loa\u0323i c\u0103n h\xf4\u0323, bi\xea\u0323t th\u01b0\u0323,...) na\u0300y"}],H=["Free Wifi","Ch\xf4\u0303 \u0111\xe2\u0323u xe","Mi\xea\u0303n phi\u0301 \u0103n sa\u0301ng","B\xea\u0309 b\u01a1i","Pho\u0300ng t\xe2\u0323p Gym","Spa"];var M=()=>{var e,t;const a=(new Date).getTimezoneOffset()/60,c=Object(h.n)(),o=Object(n.useContext)(k),[r,i]=Object(n.useState)(o.destination),[s,m]=Object(n.useState)(o.dates),[d,u]=Object(n.useState)(!1),[p,E]=Object(n.useState)(o.options),[f,C]=Object(n.useState)([]),[w,x]=Object(n.useState)(100),[O,D]=Object(n.useState)(1e5),[T,R]=Object(n.useState)(null!==(e=null===(t=c.state)||void 0===t?void 0:t.typeFromPropertyList)&&void 0!==e?e:""),[A,B]=Object(n.useState)([]),[F,L]=Object(n.useState)("random"),{data:M,loading:V,error:U,reFetch:W}=I("/hotels?city=".concat(r,"&type=").concat(T)),{dispatch:z}=Object(n.useContext)(k);Object(n.useEffect)(()=>{z({type:"NEW_SEARCH",payload:{destination:r,dates:s,options:p}})},[r,s,p]);const G=(e,t)=>{const a=e.target.value;E(e=>({...e,[t]:a}))},q=864e5;const K=function(e,t){const a=Math.abs(t.getTime()-e.getTime());return Math.ceil(a/q)}(s[0].endDate,s[0].startDate),X=e=>{let t=0,a=parseInt(p.adult,10)+.5*parseFloat(p.children);return t=p.room>Math.floor(a/e.people)?e.price*p.room*K:0==Math.floor(a/e.people)?e.price*K:e.price*Math.floor(a/e.people)*K};return l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(S,{type:"list"}),l.a.createElement("div",{className:"listContainer"},l.a.createElement("div",{className:"listWrapper"},l.a.createElement("div",{className:"listSearch"},l.a.createElement("h1",{className:"lsTitle"},"Ti\u0300m ki\xea\u0301m"),l.a.createElement("div",{className:"lsItem"},l.a.createElement("label",null,"\u0110i\u0323a \u0111i\xea\u0309m"),l.a.createElement("input",{placeholder:r,value:r,onChange:e=>{if(i(e.target.value),e.target.value){const t=j.filter(t=>t.name.toLowerCase().startsWith(e.target.value.toLowerCase())).map(e=>e.name);C(t)}else C([])},type:"text"}),f.length>0&&l.a.createElement("div",{className:"suggestionDestination",style:{width:"94%"}},l.a.createElement("div",{className:"suggestionsList"},f.map((e,t)=>l.a.createElement("div",{key:t,style:{},onClick:()=>(e=>{i(e),C([])})(e)},e))))),l.a.createElement("div",{className:"lsItem"},l.a.createElement("label",null,"Check-in"),l.a.createElement("span",{onClick:()=>u(!d)},"".concat(Object(y.default)(s[0].startDate,"dd/MM/yyyy")," \u0111\xea\u0301n ").concat(Object(y.default)(s[0].endDate,"dd/MM/yyyy"))),d&&l.a.createElement(v.DateRange,{onChange:e=>(e=>{const t=(new Date).getTimezoneOffset()/60,a={...e.selection};let{startDate:n,endDate:l}=a;n===l&&(l=Object(b.default)(new Date(n),1)),n=Object(N.a)(n,7-t),l=Object(N.a)(l,7-t),m([{...a,startDate:n,endDate:l}])})(e),moveRangeOnFirstSelection:!0,minDate:Object(N.a)(new Date,-7-a+10),maxDate:Object(b.default)(new Date,365),ranges:s})),l.a.createElement("div",{className:"lsItem"},l.a.createElement("label",null,"Cho\u0323n loa\u0323i ch\xf4\u0303 nghi\u0309"),l.a.createElement("select",{style:{height:"25px"},id:"type",onChange:e=>{R(e.target.value)},value:T},l.a.createElement("option",{value:""},"T\xe2\u0301t ca\u0309")," ",l.a.createElement("option",{value:"Kha\u0301ch sa\u0323n"},"Kha\u0301ch sa\u0323n")," ",l.a.createElement("option",{value:"C\u0103n h\xf4\u0323"},"C\u0103n h\xf4\u0323"),l.a.createElement("option",{value:"Bi\xea\u0323t th\u01b0\u0323"},"Bi\xea\u0323t th\u01b0\u0323")," ",l.a.createElement("option",{value:"Resort"},"Resort"),l.a.createElement("option",{value:"Nha\u0300 nghi\u0309"},"Nha\u0300 nghi\u0309"))),l.a.createElement("div",{className:"lsItem"},l.a.createElement("label",null,"Khoa\u0309ng gia\u0301 (theo gia\u0301 loa\u0323i pho\u0300ng re\u0309 nh\xe2\u0301t cu\u0309a ch\xf4\u0303 nghi\u0309) "),l.a.createElement("div",{className:"lsOptions"},l.a.createElement("div",{className:"lsOptionItem"},l.a.createElement("span",{className:"lsOptionText"},"T\u01b0\u0300 ",l.a.createElement("small",null)),l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"}},l.a.createElement("div",null,"(",Intl.NumberFormat("vi-VN").format(1e3*w)," VND)"),l.a.createElement("input",{type:"number",min:"0",value:w,onChange:e=>{const t=Math.max(0,e.target.value);x(t)},className:"lsOptionInput"}))),l.a.createElement("div",{className:"lsOptionItem"},l.a.createElement("span",{className:"lsOptionText"},"\u0110\xea\u0301n ",l.a.createElement("small",null)),l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"}},l.a.createElement("div",null,"(",Intl.NumberFormat("vi-VN").format(1e3*O)," VND)"),l.a.createElement("input",{type:"number",value:O,min:"0",onChange:e=>D(e.target.value),className:"lsOptionInput"}))))),l.a.createElement("div",{style:{marginTop:"-15px"},className:"lsItem"},l.a.createElement("label",null,"L\u01b0\u0323a cho\u0323n "),l.a.createElement("div",{className:"lsOptions"},l.a.createElement("div",{className:"lsOptionItem"},l.a.createElement("span",{className:"lsOptionText"},"Ng\u01b0\u01a1\u0300i l\u01a1\u0301n"),l.a.createElement("input",{type:"number",min:1,className:"lsOptionInput",placeholder:p.adult,onChange:e=>G(e,"adult")})),l.a.createElement("div",{className:"lsOptionItem"},l.a.createElement("span",{className:"lsOptionText"},"Tre\u0309 em"),l.a.createElement("input",{type:"number",min:0,className:"lsOptionInput",placeholder:p.children,onChange:e=>G(e,"children")})),l.a.createElement("div",{className:"lsOptionItem"},l.a.createElement("span",{className:"lsOptionText"},"Pho\u0300ng"),l.a.createElement("input",{type:"number",min:1,className:"lsOptionInput",placeholder:p.room,onChange:e=>G(e,"room")})))),l.a.createElement("div",{className:"lsItem"},l.a.createElement("label",null,"C\u01a1 s\u01a1\u0309 v\xe2\u0323t ch\xe2\u0301t ch\xf4\u0303 nghi\u0309"),H.map(e=>l.a.createElement("div",{className:"lsItem_hotelFacilities",key:e},l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",value:e,onChange:()=>(e=>{B(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e),checked:null===A||void 0===A?void 0:A.includes(e)}),e)))),l.a.createElement("button",{onClick:()=>{W(),z({type:"NEW_SEARCH",payload:{destination:r,dates:s,options:p}})}},"Ti\u0300m ki\xea\u0301m")),l.a.createElement("div",{className:"listResult"},l.a.createElement("div",{style:{textAlign:"right",marginBottom:"10px"}},l.a.createElement("label",null,"S\u1eafp x\u1ebfp theo gi\xe1:\xa0",l.a.createElement("select",{value:F,onChange:e=>{L(e.target.value)}},l.a.createElement("option",{value:"random"},"Ng\xe2\u0303u nhi\xean"),l.a.createElement("option",{value:"asc"},"Th\xe2\u0301p \u0111\u1ebfn cao"),l.a.createElement("option",{value:"desc"},"Cao \u0111\u1ebfn th\u1ea5p")))),V?"loading":l.a.createElement(l.a.Fragment,null,(()=>{const e=M.sort((e,t)=>{const a=X(e.cheapestPrice),n=X(t.cheapestPrice);return"asc"===F?a-n:"desc"===F?n-a:"random"===F?p.room>4?t.totalRooms-e.totalRooms:Math.random()-.5:void 0}).filter(e=>X(e.cheapestPrice)>=w&&X(e.cheapestPrice)<=O).filter(e=>A.every(t=>{var a;return null===(a=e.facilities)||void 0===a?void 0:a.includes(t)}));return 0===e.length?l.a.createElement("p",null,"Kh\xf4ng c\xf3 ch\u1ed7 ngh\u1ec9 th\u1ecfa m\xe3n y\xeau c\u1ea7u c\u1ee7a b\u1ea1n."):e.map(e=>l.a.createElement(P,{item:e,key:e._id}))})())))),l.a.createElement(_,null))},V=(a(311),a(312),a(21));var U=e=>{let{hotelId:t,hotelType:a}=e;const c=(new Date).getTimezoneOffset()/60,{data:o,loading:r,error:i,reFetch:m}=I("/rooms/".concat(t,"/?status=true")),[d,u]=Object(n.useState)([]),g=Object(n.useContext)(k),[f,C]=Object(n.useState)(g.dates),[w,x]=Object(n.useState)(g.options),[O,D]=Object(n.useState)(g.destination),[j,S]=Object(n.useState)(!1),[T,R]=Object(n.useState)(!1),[A,_]=Object(n.useState)(0),[B,P]=Object(n.useState)(0),{dispatch:F}=Object(n.useContext)(k),[L,H]=Object(n.useState)([]),[M,U]=Object(n.useState)(Math.random()),W=[],{user:z}=Object(n.useContext)(s),[G,q]=Object(n.useState)(0),K=Object(h.p)();Object(n.useEffect)(()=>{F({type:"NEW_SEARCH",payload:{destination:O,dates:f,options:w}})},[O,f,w]);const X=(e,t)=>{let a;a="l"===e?0===A?t.photos.length-1:A-1:A===t.photos.length-1?0:A+1,_(a)},Y=864e5;!function(e,t){const a=Math.abs(t.getTime()-e.getTime());Math.ceil(a/Y)}(f[0].endDate,f[0].startDate);const J=((e,t)=>{const a=new Date(e),n=new Date(t),l=new Date(a.getTime()),c=[];for(;l<n;)c.push(new Date(l).getTime()),l.setDate(l.getDate()+1);return c})(f[0].startDate,f[0].endDate),Q=(e,t)=>!e.unavailableDates.some(e=>{const a=new Date(e).getTime();return t==a});return l.a.createElement("div",{className:"RoomClientContainer"},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.a.createElement("h1",null,"Ba\u0323n mu\xf4\u0301n \u0111\u0103\u0323t pho\u0300ng?"),l.a.createElement("div",{style:{width:"30%"},className:"RoomClientContainer_searchDates"},l.a.createElement(E.a,{icon:p.b,className:"RoomClientContainer_icon"}),l.a.createElement("span",{onClick:()=>S(!j)},"".concat(Object(y.default)(f[0].startDate,"dd/MM/yyyy")," \u0111\xea\u0301n ").concat(Object(y.default)(f[0].endDate,"dd/MM/yyyy"))),j&&l.a.createElement(v.DateRange,{onChange:e=>(e=>{const t=(new Date).getTimezoneOffset()/60,a={...e.selection};let{startDate:n,endDate:l}=a;n===l&&(l=Object(b.default)(new Date(n),1)),n=Object(N.a)(n,7-t),l=Object(N.a)(l,7-t),C([{...a,startDate:n,endDate:l}]),H([]),U(Math.random()),q(0),m()})(e),minDate:Object(N.a)(new Date,-7-c+10),maxDate:Object(b.default)(new Date,365),ranges:f,moveRangeOnFirstSelection:!0,editableDateInputs:!0,className:"date"})),l.a.createElement("div",null,l.a.createElement(E.a,{icon:p.g,className:"RoomClientContainer_icon"})," ",w.adult," ng\u01b0\u01a1\u0300i l\u01a1\u0301n, ",w.children," tre\u0309 em")),o.map((e,t)=>{var n;return l.a.createElement("div",{className:"flex_div",style:{border:"1px solid #7fc7af"}},l.a.createElement("div",{style:{width:"50%"}},l.a.createElement("div",{className:"rTitle"},e.title),l.a.createElement("div",{className:"rDesc"},"S\xf4\u0301 l\u01b0\u01a1\u0323ng ng\u01b0\u01a1\u0300i: ",e.maxPeople),l.a.createElement("div",{className:"rMax"},e.desc),l.a.createElement("div",{className:"rImages"},null===(n=e.photos)||void 0===n?void 0:n.slice(0,3).map((a,n)=>l.a.createElement("div",{className:"rImgWrapper",key:n},l.a.createElement("img",{src:a,alt:"",className:"roomImg",onClick:()=>((e,t)=>{_(e),P(t),R(!0)})(n,t)}),2===n&&e.photos.length>3&&l.a.createElement("div",{style:{fontStyle:"italic"}},"(Co\u0300n ",e.photos.length-3," a\u0309nh ti\xea\u0301p...)"),T&&l.a.createElement("div",{className:"expandedPhotoWrapper"},l.a.createElement(E.a,{icon:p.e,className:"close",onClick:()=>R(!1)}),l.a.createElement(E.a,{icon:p.c,className:"arrow",onClick:()=>X("l",o[B])}),l.a.createElement("div",{className:"sliderWrapper"},l.a.createElement("img",{src:o[B].photos[A],alt:"",className:"sliderImg"})),l.a.createElement(E.a,{icon:p.d,className:"arrow",onClick:()=>X("r",o[B])})))))),l.a.createElement("div",null,"Gia\u0301: ",new Intl.NumberFormat("vi-VN").format(1e3*e.price)," VND",l.a.createElement("br",null),"(M\u1ed7i \u0111\xeam)"),l.a.createElement("div",{key:M,style:{marginBottom:"10px",display:"flex",justifyContent:"flex-end",width:"20%",alignItems:"center",gap:"10px"}},l.a.createElement("select",{style:{height:"20px"},id:"select_".concat(e._id),onChange:t=>((e,t)=>{let a=0;o.forEach(e=>{const t=parseInt(document.getElementById("select_".concat(e._id)).value);a+=t});let n=[...L];t.forEach(e=>{const t=n.findIndex(t=>t===e._id);-1!==t&&n.splice(t,1)}),t.forEach(e=>{Q(e)&&n.length<a&&n.push(e._id)}),H(n);let l=0;n.forEach(e=>{const t=o.find(t=>t.roomNumbers.some(t=>t._id==e));t&&(l+=t.price)}),l*=J.length,q(l)})(0,e.roomNumbers)},(()=>{let t=999;for(let a of J){let n=0;for(let t of e.roomNumbers)Q(t,a)&&n++;n<t&&(t=n)}const n=[];if(0===t)n.push(l.a.createElement("option",{value:0},"\u0110a\u0303 h\xea\u0301t"));else{n.push(l.a.createElement("option",{value:0}," 0 ","Kha\u0301ch sa\u0323n"===a||"Nha\u0300 nghi\u0309"===a?"pho\u0300ng":a.toLowerCase()));for(let e=1;e<=t&&!(e>10);e++)n.push(l.a.createElement("option",{value:e},e," ","Kha\u0301ch sa\u0323n"===a||"Nha\u0300 nghi\u0309"===a?"pho\u0300ng":a.toLowerCase()))}return n})()),l.a.createElement("div",{style:{width:"30%",height:"100%",fontSize:"14px"}},"(Cho\u0323n s\xf4\u0301 l\u01b0\u01a1\u0323ng mu\xf4\u0301n \u0111\u0103\u0323t)")))}),l.a.createElement("h2",null,"Ba\u0323n \u0111a\u0303 cho\u0323n ",L.length," pho\u0300ng"),G>0&&l.a.createElement("h2",null,"T\xf4\u0309ng gia\u0301: ",new Intl.NumberFormat("vi-VN").format(1e3*G)," VND"),l.a.createElement("button",{onClick:async()=>{z.username?(o.forEach(e=>{const t=parseInt(document.getElementById("select_".concat(e._id)).value);0!==t&&W.push({roomTypeId:e._id,typeRoom:e.title,quantity:t})}),L.length>0&&J.length>=1?K("/reserve",{state:{selectedRoomIds:L,alldates:J,hotelId:t,startDate:f[0].startDate,endDate:f[0].endDate,seletedRoomIdsReserved:W}}):V.b.error("Ba\u0323n ch\u01b0a cho\u0323n pho\u0300ng mu\xf4\u0301n \u0111\u0103\u0323t ho\u0103\u0323c nga\u0300y ba\u0323n cho\u0323n pha\u0309i t\xf4\u0301i thi\xea\u0309u 1 \u0111\xeam")):K("/login")},className:"rButton"},"\u0110i \u0111\xea\u0301n trang \u0111\u0103\u0323t pho\u0300ng"))};var W=()=>{var e,t,a;const c=Object(h.n)().pathname.split("/")[2],[o,r]=Object(n.useState)(0),[i,m]=Object(n.useState)(!1),[d,u]=Object(n.useState)(!1),{data:v,loading:y,error:b}=I("/hotels/find/".concat(c)),{user:N}=Object(n.useContext)(s),{destination:f,dates:C,options:w}=(Object(h.p)(),Object(n.useContext)(k),Object(n.useContext)(k));Object(n.useEffect)(()=>{const e=localStorage.getItem("idHotelSeen");let t=e?JSON.parse(e):[];t.length>=3&&(t=t.slice(1)),t.includes(c)||(t.push(c),localStorage.setItem("idHotelSeen",JSON.stringify(t)))},[]);const x=864e5;!function(e,t){const a=Math.abs(t.getTime()-e.getTime());Math.ceil(a/x)}(C[0].endDate,C[0].startDate);const O=e=>{let t;t="l"===e?0===o?v.photos.length-1:o-1:o===v.photos.length-1?0:o+1,r(t)};return l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(S,{type:"list"}),y?"loading":l.a.createElement("div",{className:"hotelContainer"},i&&l.a.createElement("div",{className:"slider"},l.a.createElement(E.a,{icon:p.e,className:"close",onClick:()=>m(!1)}),l.a.createElement(E.a,{icon:p.c,className:"arrow",onClick:()=>O("l")}),l.a.createElement("div",{className:"sliderWrapper"},l.a.createElement("img",{src:v.photos[o],alt:"",className:"sliderImg"})),l.a.createElement(E.a,{icon:p.d,className:"arrow",onClick:()=>O("r")})),l.a.createElement("div",{className:"hotelWrapper"},l.a.createElement("h1",{className:"hotelTitle"},v.name),l.a.createElement("div",{className:"hotelAddress"},l.a.createElement(E.a,{icon:p.f}),l.a.createElement("span",null,v.address)),l.a.createElement("span",{className:"hotelDistance"},"\u0110i\u0323a \u0111i\xea\u0309m tuy\xea\u0323t v\u01a1\u0300i \u2013 ",v.distance,"m t\u01b0\u0300 trung t\xe2m"),l.a.createElement("div",{className:"hotelImages"},null===(e=v.photos)||void 0===e?void 0:e.map((e,t)=>l.a.createElement("div",{style:{width:"24%"},className:"hotelImgWrapper",key:t},l.a.createElement("img",{onClick:()=>(e=>{r(e),m(!0)})(t),src:e,alt:"",className:"hotelImg"})))),l.a.createElement("div",{className:"hotelDetails"},l.a.createElement("div",{className:"hotelDetailsTexts"},l.a.createElement("p",{className:"hotelDesc",style:{whiteSpace:"pre-line"}},v.desc),l.a.createElement("div",{style:{fontWeight:"bold"}},"C\u01a1 s\u01a1\u0309 v\xe2\u0323t ch\xe2\u0301t ch\xf4\u0303 nghi\u0309"),l.a.createElement("div",{className:"hotelDetailsTexts_facilities"},null===(t=v.facilities)||void 0===t?void 0:t.map(e=>l.a.createElement("div",{className:"hotelDetailsTexts_facilities_item"},e)))),l.a.createElement("div",{className:"hotelDetailsPrice"},l.a.createElement("span",null,"To\u0323a la\u0323c ta\u0323i ",v.address,", \u0111\xe2y la\u0300 m\xf4\u0323t \u0111i\u0323a \u0111i\xea\u0309m tuy\xea\u0323t v\u01a1\u0300i!"),l.a.createElement("div",{style:{fontSize:"26px"}},l.a.createElement("b",null,"Gia\u0301 chi\u0309 t\u01b0\u0300 ",Intl.NumberFormat("vi-VN").format(1e3*(null===(a=v.cheapestPrice)||void 0===a?void 0:a.price))," VND m\xf4\u0303i \u0111\xeam"))))),l.a.createElement(U,{hotelId:c,hotelType:v.type}),l.a.createElement(_,null)))};a(313);var z=()=>{const[e,t]=Object(n.useState)({username:void 0,password:void 0}),{user:a,loading:c,error:o,dispatch:i}=Object(n.useContext)(s),m=Object(h.p)(),d=e=>{t(t=>({...t,[e.target.id]:e.target.value}))};return l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"lContainer"},l.a.createElement("h1",{className:"Login"},"\u0110\u0103ng nh\xe2\u0323p"),l.a.createElement("input",{type:"text",placeholder:"T\xean \u0111\u0103ng nh\xe2\u0323p",id:"username",onChange:d,className:"lInput"}),l.a.createElement("input",{type:"password",placeholder:"M\xe2\u0323t kh\xe2\u0309u",id:"password",onChange:d,className:"lInput"}),l.a.createElement("button",{disabled:c,onClick:async t=>{t.preventDefault(),i({type:"LOGIN_START"});try{const t=await u.a.post("/auth/login",e);i({type:"LOGIN_SUCCESS",payload:t.data}),console.log(t.data.isAdmin),t.data.isAdmin?(console.log("den trang adminstrator"),m("/administrator")):m("/")}catch(a){i({type:"LOGIN_FAILURE",payload:a.response.data})}},className:"lButton"},"\u0110\u0103ng nh\xe2\u0323p"),l.a.createElement("p",null,"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n. ",l.a.createElement(r.b,{className:"",to:"/register"},"\u0110\u0103ng k\xfd ngay")),o&&l.a.createElement("span",{style:{color:"red"}},o.message)))};var G=()=>{const[e,t]=Object(n.useState)({username:void 0,password:void 0,email:void 0,passwordRepeat:void 0}),{user:a,loading:c,error:o,dispatch:r}=Object(n.useContext)(s),i=Object(h.p)(),m=e=>{t(t=>({...t,[e.target.id]:e.target.value}))};return l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"lContainer"},l.a.createElement("h1",{className:"Login"},"\u0110\u0103ng ky\u0301"),l.a.createElement("input",{type:"text",placeholder:"T\xean \u0111\u0103ng nh\xe2\u0323p",id:"username",onChange:m,className:"lInput"}),l.a.createElement("input",{type:"password",placeholder:"M\xe2\u0323t kh\xe2\u0309u",id:"password",onChange:m,className:"lInput"}),l.a.createElement("input",{type:"password",placeholder:"Nh\xe2\u0323p la\u0323i m\xe2\u0323t kh\xe2\u0309u",id:"passwordRepeat",onChange:m,className:"lInput"}),l.a.createElement("input",{type:"email",placeholder:"Email",id:"email",onChange:m,className:"lInput"}),l.a.createElement("button",{disabled:c,onClick:async t=>{if(t.preventDefault(),e.password===e.passwordRepeat)try{await u.a.post("/auth/register",e),alert("\u0110\u0103ng ky\u0301 tha\u0300nh c\xf4ng"),i("/login")}catch(a){r({type:"LOGIN_FAILURE",payload:a.response.data})}else alert("M\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp")},className:"lButton btn_registerr"},"\u0110\u0103ng ky\u0301"),o&&l.a.createElement("span",null,"T\xean \u0111\u0103ng nh\xe2\u0323p ho\u0103\u0323c email ",l.a.createElement("br",null)," \u0111a\u0303 co\u0301 ng\u01b0\u01a1\u0300i s\u01b0\u0309 du\u0323ng")))},q=(a(314),a(161)),K=a.n(q),X=a(237),Y=a.n(X),J=a(162),Q=a.n(J),Z=a(199),$=a.n(Z),ee=a(193),te=a.n(ee);var ae=()=>{var e;const{user:t,dispatch:a}=Object(n.useContext)(s),c=Object(h.p)(),o=Object(h.n)(),i=o.pathname.split("/")[2],[m,d]=Object(n.useState)((null===(e=o.state)||void 0===e?void 0:e.item)||i),g=e=>{c("/admin/".concat(e),{state:{item:e}})};return l.a.createElement("div",{className:"sidebar"},l.a.createElement("div",{className:"top"},l.a.createElement(r.b,{to:"/",style:{textDecoration:"none"}},l.a.createElement("span",{className:"logo"},"HotelBooking"))),l.a.createElement("div",{className:"center"},l.a.createElement("ul",null,l.a.createElement("p",{className:"title"},"MU\u0323C"),l.a.createElement("div",{style:{textDecoration:"none"},onClick:()=>g("hotels")},l.a.createElement("li",{style:{backgroundColor:"hotels"==m?"#ece8ff":""}},l.a.createElement(K.a,{className:"icon"}),l.a.createElement("span",null,"Ch\xf4\u0303 nghi\u0309"))),l.a.createElement("div",{style:{textDecoration:"none"},onClick:()=>g("rooms")},l.a.createElement("li",{style:{backgroundColor:"rooms"==m?"#ece8ff":""}},l.a.createElement(Y.a,{className:"icon"}),l.a.createElement("span",null,"Pho\u0300ng"))),l.a.createElement("div",{style:{textDecoration:"none"},onClick:()=>g("reservations")},l.a.createElement("li",{style:{backgroundColor:"reservations"==m?"#ece8ff":""}},l.a.createElement($.a,{className:"icon"}),l.a.createElement("span",null,"\u0110\u01a1n \u0111\u0103\u0323t pho\u0300ng"))),l.a.createElement("p",{className:"title"},"TA\u0300I KHOA\u0309N"),l.a.createElement("div",{style:{textDecoration:"none"},onClick:()=>g("changePassword")},l.a.createElement("li",{style:{backgroundColor:"changePassword"==m?"#ece8ff":""}},l.a.createElement($.a,{className:"icon"}),l.a.createElement("span",null,"\u0110\xf4\u0309i m\xe2\u0323t kh\xe2\u0309u"))),l.a.createElement("div",{style:{textDecoration:"none"},onClick:()=>g("updatePaymentInfo")},l.a.createElement("li",{style:{backgroundColor:"updatePaymentInfo"==m?"#ece8ff":""}},l.a.createElement(te.a,{className:"icon"}),l.a.createElement("span",null,"C\xe2\u0323p nh\xe2\u0323t ta\u0300i khoa\u0309n thanh toa\u0301n"))),l.a.createElement("li",{onClick:async e=>{e.preventDefault();try{a({type:"LOGOUT"}),await u.a.post("/auth/logout"),c("/login")}catch(t){}}},l.a.createElement(Q.a,{className:"icon"}),l.a.createElement("span",null,"Logout")))))};a(320);var ne=()=>{const{user:e,dispatch:t}=Object(n.useContext)(s);return l.a.createElement("div",{className:"navbarAdmin"},l.a.createElement("h1",{className:"navbarAdmin_username"},"Xin cha\u0300o, ",null===e||void 0===e?void 0:e.username))};a(321);var le=()=>{const{user:e,dispatch:t}=Object(n.useContext)(s);return l.a.createElement("div",{className:"listAdmin"},l.a.createElement(ae,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null)))},ce=(a(322),a(85)),oe=(a(229),a(189));a(90);const re=new Date,ie=Object(oe.default)(re,10);var se=()=>{const{user:e}=Object(n.useContext)(s),{data:t,loading:a,error:c,reFetch:o}=I("/hotels/getByAdmin"),{data:i,loading:m,error:d,reFetch:g}=I("/reservation/admin/?startDay=".concat(re,"&endDay=").concat(ie,'&status="success"')),p=Object(h.p)(),E=async e=>{try{await u.a.delete("/hotels/".concat(e))?(o(),V.b.success("Xo\u0301a tha\u0300nh c\xf4ng")):V.b.error("Co\u0301 l\xf4\u0303i xa\u0309y ra vui lo\u0300ng th\u01b0\u0309 la\u0323i")}catch(c){console.error("Error deleting hotel:",c),V.b.error("Co\u0301 l\xf4\u0303i xa\u0309y ra vui lo\u0300ng th\u01b0\u0309 la\u0323i")}};return l.a.createElement("div",{className:"listAdmin"},l.a.createElement(ae,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null),l.a.createElement("div",{className:"listHotelAdminContainer"},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.a.createElement("h1",null,"Ch\xf4\u0303 nghi\u0309 cu\u0309a ba\u0323n"),l.a.createElement(r.b,{to:"/admin/hotels/new"},l.a.createElement("button",{className:"addHotel_btn"},"Th\xeam ch\xf4\u0303 nghi\u0309 m\u01a1\u0301i"))),a?"loading":l.a.createElement(l.a.Fragment,null,0===t.length?l.a.createElement("div",null,'B\u1ea1n ch\u01b0a c\xf3 ch\u1ed7 ngh\u1ec9 n\xe0o. Ha\u0303y th\xeam ch\xf4\u0303 nghi\u0309 b\u0103\u0300ng ca\u0301ch \xe2\u0301n nu\u0301t "Th\xeam ch\xf4\u0303 nghi\u0309"'):t.map(e=>l.a.createElement("div",{className:"listHotelAdmin",key:e._id},l.a.createElement("img",{src:e.photos[0],alt:"",className:"siImg"}),l.a.createElement("div",{className:"siDesc"},l.a.createElement("h1",{className:"siTitle"},e.name),l.a.createElement("span",{className:"siDistance"},"Khoa\u0309ng ca\u0301ch \u0111\xea\u0301n trung t\xe2m: ",e.distance,"m t\u01b0\u0300 trung t\xe2m"),l.a.createElement("span",{className:"siFeatures"},"\u0110i\u0323a chi\u0309 ch\xf4\u0303 nghi\u0309: ",e.address)),l.a.createElement("div",{className:"listHotel_btn"},l.a.createElement("button",{onClick:()=>(e=>{p("/admin/hotels/revenue/".concat(e),{state:{previousPath:"/admin/hotels"}})})(e._id)},"Th\xf4\u0301ng k\xea s\xf4\u0301 li\xea\u0323u "),l.a.createElement("button",{onClick:()=>(e=>{p("/admin/hotels/".concat(e),{state:{previousPath:"/admin/hotels"}})})(e._id)},"Chi\u0309nh s\u01b0\u0309a th\xf4ng tin"),l.a.createElement("button",{style:{backgroundColor:"red"},onClick:()=>(e=>{i.some(t=>t.hotelId===e)?V.b.error("Ch\xf4\u0303 nghi\u0309 na\u0300y \u0111ang co\u0301 \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng s\u0103\u0301p t\u01a1\u0301i, kh\xf4ng th\xea\u0309 xo\u0301a!"):Object(ce.confirmAlert)({title:"Confirm",message:"Ba\u0323n co\u0301 ch\u0103\u0301c ch\u0103\u0301n mu\xf4\u0301n xo\u0301a ch\xf4\u0303 nghi\u0309 na\u0300y?",buttons:[{label:"Yes",onClick:()=>{E(e)}},{label:"No",onClick:()=>{}}]})})(e._id)},"Xo\u0301a ch\xf4\u0303 nghi\u0309"))))))))},me=(a(323),a(95)),de=a.n(me);var he=()=>{const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)({}),[o,r]=Object(n.useState)([]),[i,m]=Object(n.useState)(""),{user:d}=Object(n.useContext)(s),g=Object(h.p)(),{data:p,loading:E,error:v}=I("/rooms"),[y,b]=Object(n.useState)(!1),N=e=>{const{id:t,value:a}=e.target;c(e=>({...e,[t]:"city"===t?a.trim():a}))};return l.a.createElement("div",{className:"listAdmin"},l.a.createElement(ae,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null),l.a.createElement("div",{className:"top"},l.a.createElement("h1",null,"Th\xeam ch\xf4\u0303 nghi\u0309")),l.a.createElement("div",{className:"bottom"},l.a.createElement("div",{className:"left"},e.length>0?e.map((a,n)=>l.a.createElement("div",{key:n,style:{position:"relative",display:"inline-block"}},l.a.createElement("img",{src:URL.createObjectURL(a),alt:"Uploaded image ".concat(n+1),style:{display:"block"}}),l.a.createElement("button",{onClick:()=>(a=>{const n=e.filter((e,t)=>t!==a);t(n)})(n),style:{position:"absolute",top:"5px",right:"5px",backgroundColor:"red",color:"white",border:"none",borderRadius:"50%",width:"20px",height:"20px",cursor:"pointer",textAlign:"center"}},"X"))):l.a.createElement("img",{src:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",alt:"No image"})),l.a.createElement("div",{className:"right"},l.a.createElement("form",null,l.a.createElement("div",{className:"formInput"},l.a.createElement("label",{htmlFor:"file"},"Up a\u0309nh: (Click va\u0300o \u0111\xe2y \u0111\xea\u0309 th\xeam a\u0309nh) ",l.a.createElement(de.a,{className:"icon"})),l.a.createElement("input",{type:"file",id:"file",multiple:!0,onChange:e=>t([...e.target.files]),style:{display:"none"}})),l.a.createElement("div",{className:"formInput",key:"type"},l.a.createElement("label",null,"Cho\u0323n loa\u0323i ch\xf4\u0303 nghi\u0309"),l.a.createElement("select",{id:"type",onChange:N,value:a.type},l.a.createElement("option",{value:""},"Cho\u0323n loa\u0323i ch\xf4\u0303 nghi\u0309")," ",l.a.createElement("option",{value:"Kha\u0301ch sa\u0323n"},"Kha\u0301ch sa\u0323n")," ",l.a.createElement("option",{value:"C\u0103n h\xf4\u0323"},"C\u0103n h\xf4\u0323"),l.a.createElement("option",{value:"Bi\xea\u0323t th\u01b0\u0323"},"Bi\xea\u0323t th\u01b0\u0323")," ",l.a.createElement("option",{value:"Resort"},"Resort"),l.a.createElement("option",{value:"Nha\u0300 nghi\u0309"},"Nha\u0300 nghi\u0309")),"C\u0103n h\xf4\u0323"==a.type||"Bi\xea\u0323t th\u01b0\u0323"==a.type||"Resort"==a.type?l.a.createElement("div",{style:{fontStyle:"italic"}},"(Trong tr\u01b0\u01a1\u0300ng h\u01a1\u0323p ba\u0323n mu\xf4\u0301n ba\u0301n nhi\xea\u0300u ",a.type," ta\u0323i cu\u0300ng 1 \u0111i\u0323a chi\u0309, ba\u0323n chi\u0309 c\xe2\u0300n ta\u0323o 1 ch\xf4\u0303 nghi\u0309 sau \u0111o\u0301 th\xeam nhi\xea\u0300u loa\u0323i ",a.type,' \u01a1\u0309 mu\u0323c "Pho\u0300ng". Trong tr\u01b0\u01a1\u0300ng h\u01a1\u0323p ba\u0323n chi\u0309 ba\u0301n 1 ',a.type," thi\u0300 chi\u0309 th\xeam 1 loa\u0323i). "):""),l.a.createElement("div",{className:"formInput",key:"type"},l.a.createElement("label",null,"Ti\u0309nh tha\u0300nh ch\xf4\u0303 nghi\u0309"),l.a.createElement("select",{id:"city",onChange:N,value:a.city},l.a.createElement("option",{value:""},"Cho\u0323n ti\u0309nh tha\u0300nh")," ",j.map((e,t)=>l.a.createElement("option",{key:t,value:e.name},e.name)))),F.slice(0,1).concat(F.slice(2)).map(e=>l.a.createElement("div",{className:"formInput",key:e.id},l.a.createElement("label",null,e.label," ",(null===a||void 0===a?void 0:a.type)?a.type.toLowerCase():"ch\xf4\u0303 nghi\u0309"),l.a.createElement("input",{id:e.id,onChange:N,type:e.type,placeholder:e.placeholder}))),l.a.createElement("label",null,"M\xf4 ta\u0309 ch\xf4\u0303 nghi\u0309 cu\u0309a ba\u0323n (T\xf4\u0301i \u0111a 1000 ky\u0301 t\u01b0\u0323) "),l.a.createElement("textarea",{id:"desc",rows:"10",maxLength:"1000",onChange:N,style:{width:"100%",padding:"10px",fontSize:"16px",border:"1px solid #ccc",borderRadius:"5px",boxSizing:"border-box"}}),l.a.createElement("div",{className:"hotelFacilities"},l.a.createElement("div",{style:{marginBottom:"10px"}},"C\u01a1 s\u01a1\u0309 v\xe2\u0323t ch\xe2\u0301t ch\xf4\u0303 nghi\u0309 "),H.map(e=>l.a.createElement("div",{style:{marginBottom:"10px"},key:e},l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",value:e,onChange:()=>(e=>{r(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e),checked:o.includes(e)}),e))),l.a.createElement("div",{className:"customFacilities"},l.a.createElement("label",null,"Nh\u1eadp c\u01a1 s\u1edf v\u1eadt ch\u1ea5t kh\xe1c (ng\u0103n c\xe1ch b\u1eb1ng d\u1ea5u ph\u1ea9y): "),l.a.createElement("input",{style:{width:"100%"},type:"text",value:i,placeholder:"Vi\u0301 du\u0323:Thu\xea xe \u0111a\u0323p, Di\u0323ch vu\u0323 pho\u0300ng",onChange:e=>{m(e.target.value)}}))),l.a.createElement("button",{onClick:async t=>{t.preventDefault();const n=i.split(",").map(e=>e.trim()).filter(e=>e),l=[...o,...n];b(!0);try{if(l.length>12)return void V.b.error("Chi\u0309 \u0111\u01b0\u01a1\u0323c cho\u0323n t\xf4\u0301i \u0111a 12 c\u01a1 s\u01a1\u0309 v\xe2\u0323t ch\xe2\u0301t");if((()=>{for(let e of F)if(!document.getElementById(e.id).value||!document.getElementById("type").value)return!1;return!(!document.getElementById("desc").value.trim()||!i&&0==o.length||0===e.length)&&!(document.getElementById("distance").value<0)})()){const t=await Promise.all(Object.values(e).map(async e=>{const t=new FormData;t.append("file",e);const a=await u.a.post("/closedRoom/upload/uploadImage",t),{url:n}=a.data;return n})),n={...a,photos:t,facilities:l};await u.a.post("/hotels",n)?(V.b.success("Th\xe0nh c\xf4ng!"),V.b.warning('V\xe2\u0303n ch\u01b0a xong! Ha\u0303y ti\xea\u0301p tu\u0323c th\xeam chi ti\xea\u0301t v\xea\u0300 loa\u0323i pho\u0300ng \u01a1\u0309 ch\xf4\u0303 nghi\u0309 cu\u0309a ba\u0323n \u01a1\u0309 mu\u0323c "Pho\u0300ng". Ch\xf4\u0303 nghi\u0309\n          cu\u0309a ba\u0323n se\u0303 \u0111\u01b0\u01a1\u0323c \u0111\u0103ng sau khi co\u0301 i\u0301t nh\xe2\u0301t 1 loa\u0323i pho\u0300ng',{autoClose:2e4}),g("/admin/hotels")):V.b.error("Co\u0301 l\xf4\u0303i xa\u0309y ra.Vui lo\u0300ng ta\u0309i la\u0323i trang va\u0300 th\u01b0\u0309 la\u0323i")}else V.b.error("Ba\u0323n ch\u01b0a \u0111i\xea\u0300n \u0111u\u0309 ca\u0301c th\xf4ng tin ho\u0103\u0323c th\xf4ng tin kh\xf4ng h\u01a1\u0323p l\xea\u0323!.")}catch(c){console.log(v)}finally{b(!1)}},disabled:y},y?"\u0110ang l\u01b0u...":"\u0110\u0103ng ch\xf4\u0303 nghi\u0309"))))))};a(324),a(325);var ue=()=>{var e,t;const a=Object(h.n)(),c=a.pathname.split("/")[3],{data:o,loading:r,error:i}=I("/hotels/find/".concat(c)),[m,d]=Object(n.useState)(o),[g,p]=Object(n.useState)(""),[E,v]=Object(n.useState)([]),[y,b]=Object(n.useState)(""),[N,f]=Object(n.useState)(!1),{user:C}=Object(n.useContext)(s),w=o.type,x=Object(h.p)();"/admin/hotels"!==(null===(e=a.state)||void 0===e?void 0:e.previousPath)&&x("/admin/hotels");Object(n.useEffect)(()=>{if(o){var e,t;d(o);const a=null===(e=o.facilities)||void 0===e?void 0:e.filter(e=>null===H||void 0===H?void 0:H.includes(e)),n=null===(t=o.facilities)||void 0===t?void 0:t.filter(e=>!(null===H||void 0===H?void 0:H.includes(e))).join(", ");v(a),b(n)}},[o]);const k=e=>{const{id:t,value:a}=e.target;d(e=>({...e,[t]:"city"===t?a.trim():a}))};return l.a.createElement("div",{className:"listAdmin"},l.a.createElement(ae,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null),l.a.createElement("div",{className:"listHotelAdminContainer"},l.a.createElement("div",{className:"top"},l.a.createElement("h1",{style:{fontWeight:"bold"}},"Chi\u0309nh s\u01b0\u0309a th\xf4ng tin")),l.a.createElement("div",{className:"bottom"},l.a.createElement("div",{className:"left"},g.length>0?g.map((e,t)=>l.a.createElement("div",{key:t,style:{position:"relative",display:"inline-block"}},l.a.createElement("img",{src:URL.createObjectURL(e),alt:"Uploaded image ".concat(t+1),style:{display:"block"}}),l.a.createElement("button",{onClick:()=>(e=>{const t=g.filter((t,a)=>a!==e);p(t)})(t),style:{position:"absolute",top:"5px",right:"5px",backgroundColor:"red",color:"white",border:"none",borderRadius:"50%",width:"20px",height:"20px",cursor:"pointer",textAlign:"center"}},"X"))):l.a.createElement("div",{className:"no-image-container"},null===(t=o.photos)||void 0===t?void 0:t.map((e,t)=>l.a.createElement("img",{key:t,src:e,alt:"\u1ea2nh ".concat(t)})))),l.a.createElement("div",{className:"right"},l.a.createElement("div",{className:"right"},l.a.createElement("form",null,l.a.createElement("div",{className:"formInput"},l.a.createElement("label",{htmlFor:"file"},"Up a\u0309nh (Click va\u0300o \u0111\xe2y \u0111\xea\u0309 upload la\u0323i a\u0309nh): ",l.a.createElement(de.a,{className:"icon"})),l.a.createElement("input",{type:"file",id:"file",multiple:!0,onChange:e=>p([...e.target.files]),style:{display:"none"}})),l.a.createElement("div",{className:"formInput",key:"type"},l.a.createElement("label",null,"Cho\u0323n loa\u0323i ch\xf4\u0303 nghi\u0309"),l.a.createElement("select",{id:"type",onChange:k,value:m.type},l.a.createElement("option",{value:w},w)," ",l.a.createElement("option",{value:"Kha\u0301ch sa\u0323n",hidden:"Kha\u0301ch sa\u0323n"===w},"Kha\u0301ch sa\u0323n")," ",l.a.createElement("option",{value:"C\u0103n h\xf4\u0323",hidden:"C\u0103n h\xf4\u0323"===w},"C\u0103n h\xf4\u0323"),l.a.createElement("option",{value:"Bi\xea\u0323t th\u01b0\u0323",hidden:"Bi\xea\u0323t th\u01b0\u0323"===w},"Bi\xea\u0323t th\u01b0\u0323")," ",l.a.createElement("option",{value:"Resort",hidden:"Resort"===w},"Resort"),l.a.createElement("option",{value:"Nha\u0300 nghi\u0309",hidden:"Nha\u0300 nghi\u0309"===w},"Nha\u0300 nghi\u0309"))),l.a.createElement("div",{className:"formInput",key:"type"},l.a.createElement("label",null,"Ti\u0309nh tha\u0300nh ch\xf4\u0303 nghi\u0309"),l.a.createElement("select",{id:"city",onChange:k,value:m.city},j.map((e,t)=>l.a.createElement("option",{key:t,value:e.name},e.name)))),F.slice(0,1).concat(F.slice(2)).map(e=>l.a.createElement("div",{className:"formInput",key:e.id},l.a.createElement("label",null," ",e.label," ",(null===m||void 0===m?void 0:m.type)?m.type.toLowerCase():"ch\xf4\u0303 nghi\u0309"),l.a.createElement("input",{id:e.id,onChange:k,type:e.type,value:m[e.id]}))),l.a.createElement("label",null,"M\xf4 ta\u0309 ch\xf4\u0303 nghi\u0309 cu\u0309a ba\u0323n(T\xf4\u0301i \u0111a 1000 ky\u0301 t\u01b0\u0323) "),l.a.createElement("textarea",{id:"desc",rows:"10",maxLength:"1000",onChange:k,style:{width:"100%",padding:"10px",fontSize:"16px",border:"1px solid #ccc",borderRadius:"5px",boxSizing:"border-box"},placeholder:o.desc,value:m.desc}),l.a.createElement("div",{className:"hotelFacilities"},l.a.createElement("div",{style:{marginBottom:"10px"}},"C\u01a1 s\u01a1\u0309 v\xe2\u0323t ch\xe2\u0301t ch\xf4\u0303 nghi\u0309 "),H.map(e=>l.a.createElement("div",{style:{marginBottom:"10px"},key:e},l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",value:e,onChange:()=>(e=>{v(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e),checked:null===E||void 0===E?void 0:E.includes(e)}),e))),l.a.createElement("div",{className:"customFacilities"},l.a.createElement("label",null,"Nh\u1eadp c\u01a1 s\u1edf v\u1eadt ch\u1ea5t kh\xe1c (ng\u0103n c\xe1ch b\u1eb1ng d\u1ea5u ph\u1ea9y): "),l.a.createElement("input",{style:{width:"100%"},type:"text",value:y,placeholder:"Vi\u0301 du\u0323:Thu\xea xe \u0111a\u0323p, Di\u0323ch vu\u0323 pho\u0300ng",onChange:e=>{b(e.target.value)}}))),l.a.createElement("button",{onClick:async e=>{f(!0),e.preventDefault();const t=y.split(",").map(e=>e.trim()).filter(e=>e),a=[...E,...t];try{if(a.length>12)return void V.b.error("Chi\u0309 \u0111\u01b0\u01a1\u0323c cho\u0323n t\xf4\u0301i \u0111a 12 c\u01a1 s\u01a1\u0309 v\xe2\u0323t ch\xe2\u0301t");if(!(()=>{for(let e of F)if(!document.getElementById(e.id).value||!document.getElementById("type").value)return!1;return!(!document.getElementById("desc").value.trim()||!y&&0==E.length)})())return void V.b.error("Ba\u0323n ch\u01b0a \u0111i\xea\u0300n \u0111u\u0309 ca\u0301c th\xf4ng tin!.");try{const e=await Promise.all(Object.values(g).map(async e=>{const t=new FormData;t.append("file",e);const a=await u.a.post("/closedRoom/upload/uploadImage",t),{url:n}=a.data;return n})),t={...m,...e.length>0&&{photos:e},facilities:a};await u.a.put("/hotels/".concat(c),t)?(f(!1),V.b.success("Th\xe0nh c\xf4ng chi\u0309nh s\u01b0\u0309a!"),x("/admin/hotels")):(V.b.error("Error.Please try again"),f(!1))}catch(n){console.log(i)}}catch(n){console.log(i)}finally{f(!1)}},disabled:N},N?"\u0110ang l\u01b0u...":"L\u01b0u th\xf4ng tin ch\xf4\u0303 nghi\u0309"))))))))},ge=(a(326),a(427));const pe=[{field:"_id",headerName:"ID",width:100,hide:!0},{field:"title",headerName:"T\xean loa\u0323i pho\u0300ng (loa\u0323i c\u0103n h\xf4\u0323, bi\xea\u0323t th\u01b0\u0323,...) ",align:"center",headerAlign:"center",flex:1.25,renderHeader:e=>l.a.createElement("div",{style:{whiteSpace:"normal",textAlign:"center",lineHeight:"1.2"}},e.colDef.headerName)},{field:"desc",headerName:"M\xf4 ta\u0309 ",flex:2,cellClassName:"wrap-content",headerAlign:"center"},{field:"price",headerName:"Gia\u0301 m\xf4\u0303i \u0111\xeam(VND)",flex:1,valueFormatter:e=>{const t=new Intl.NumberFormat("vi-VN").format(1e3*e.value);return"".concat(t)},align:"center",headerAlign:"center"},{field:"maxPeople",headerName:"S\xf4\u0301 ng\u01b0\u01a1\u0300i",flex:.5,align:"center",headerAlign:"center"},{field:"roomCount",headerName:"S\xf4\u0301 l\u01b0\u01a1\u0323ng",flex:.5,align:"center",headerAlign:"center",renderCell:e=>{return(e.row.roomNumbers||[]).length}}],Ee=e=>{return new Date(e).toLocaleDateString("vi-VN")},ve=[{field:"_id",headerName:"Ma\u0303 \u0111\u0103\u0323t pho\u0300ng",flex:1,width:140},{field:"start",headerName:"Check-in",flex:1,width:90,valueFormatter:e=>Ee(e.value),headerAlign:"center",align:"center",comparator:(e,t)=>new Date(e).getTime()-new Date(t).getTime()},{field:"end",headerName:"Check-out",flex:1,width:90,valueFormatter:e=>Ee(e.value),headerAlign:"center",align:"center"},{field:"hotelName",headerName:"Ch\xf4\u0303 nghi\u0309",flex:2,width:180,headerAlign:"center",align:"center"},{field:"roomsDetail",headerName:"Pho\u0300ng",flex:2,width:250,cellClassName:"wrap-content",headerAlign:"center",align:"center",renderCell:e=>{const t=e.value;return l.a.createElement("div",{className:"wrap-content"},t)}},{field:"guest",headerName:"S\xf4\u0301 ng\u01b0\u01a1\u0300i",width:100,flex:1,cellClassName:"wrap-content",headerAlign:"center",align:"center",renderCell:e=>{const{adult:t,children:a}=e.row.guest;return"".concat(t," ng\u01b0\u1eddi l\u1edbn, ").concat(a," tr\u1ebb em")}},{field:"totalPrice",headerName:"T\xf4\u0309ng gia\u0301(VND)",flex:1,width:100,valueFormatter:e=>{if(null!==e.value){const t=new Intl.NumberFormat("vi-VN").format(1e3*e.value);return"".concat(t)}return null},headerAlign:"center",align:"center"},{field:"phoneNumber",headerName:"S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i",width:120,headerAlign:"center",align:"center"},{field:"status",headerName:"Tra\u0323ng tha\u0301i",width:100,flex:.75,renderCell:e=>{let t,a;switch(e.value){case 1:t="OK",a="green";break;case 0:t="HU\u0309Y",a="red";break;case-1:t="\u0110ang ch\u01a1\u0300",a="blue";break;default:t="Kh\xf4ng x\xe1c \u0111\u1ecbnh",a="black"}return l.a.createElement("span",{style:{color:a}},t)},headerAlign:"center",align:"center"}],ye=[{field:"hotelName",headerName:"T\xean ch\xf4\u0303 nghi\u0309",width:350,headerAlign:"center",align:"center"},{field:"userOwner",headerName:"Email ta\u0300i khoa\u0309n chu\u0309",width:350,headerAlign:"center",align:"center"},{field:"createdAt",headerName:"Nga\u0300y hoa\u0323t \u0111\xf4\u0323ng",width:115,valueFormatter:e=>{const t=e.value?e.value:"2024-05-20";return Ee(t)},comparator:(e,t)=>new Date(e).getTime()-new Date(t).getTime(),headerAlign:"center",align:"center"},{field:"totalRevenue",headerName:"T\xf4\u0309ng doanh thu",width:250,valueFormatter:e=>{const t=1e3*e.value,a=new Intl.NumberFormat("vi-VN").format(t);return"".concat(a," VND")},headerAlign:"center",align:"center"},{field:"commission",headerName:"Ti\u1ec1n hoa h\u1ed3ng",width:150,headerAlign:"center",align:"center",valueGetter:e=>{const t=e.row.totalRevenue;return void 0!==t&&null!==t?.1*t*1e3:null},valueFormatter:e=>{if(null!==e.value){const t=new Intl.NumberFormat("vi-VN").format(e.value);return"".concat(t," VND")}return null}}],be=[{field:"idOwnerHotel",headerName:"Id ta\u0300i khoa\u0309n",width:350,headerAlign:"center",align:"center"},{field:"email",headerName:"Email ta\u0300i khoa\u0309n chu\u0309",width:250,headerAlign:"center",align:"center"},{field:"totalPrice",headerName:"T\xf4\u0309ng doanh thu",width:250,valueFormatter:e=>{const t=1e3*e.value,a=new Intl.NumberFormat("vi-VN").format(t);return"".concat(a," VND")},headerAlign:"center",align:"center"},{field:"needToPaid",headerName:"C\xe2\u0300n thanh toa\u0301n",width:150,headerAlign:"center",align:"center",valueGetter:e=>{const t=e.row.totalPrice;return void 0!==t&&null!==t?.9*t*1e3:null},valueFormatter:e=>{if(null!==e.value){const t=new Intl.NumberFormat("vi-VN").format(e.value);return"".concat(t," VND")}return null}},{field:"paymentInfo",headerName:"Th\xf4ng tin thanh toa\u0301n",width:250,cellClassName:"wrap-content",headerAlign:"center",align:"center"}],Ne=new Date,fe=Object(oe.default)(Ne,10);var Ce=()=>{var e;const{user:t}=Object(n.useContext)(s),{data:a,loading:c,error:o,reFetch:r}=I("/hotels/getByAdmin"),[i,m]=Object(n.useState)(a.length>0?a[0]._id:null),{data:d,loading:g,error:p,reFetch:E}=I("/rooms/".concat(i)),{data:v,loading:y,error:b,reFetch:N}=I("/reservation/admin/?startDay=".concat(Ne,"&endDay=").concat(fe,'&status="success"')),f=Object(h.p)(),C=null===(e=Object(h.n)().state)||void 0===e?void 0:e.hotelIdFromAddModifyRoom;Object(n.useEffect)(()=>{var e;m(C||(null===(e=a[0])||void 0===e?void 0:e._id))},[a]);const w=e=>{f(e,{state:{previousPath:"/admin/rooms",hotelIdFromListRoom:i}})},x=async e=>{try{await u.a.delete("/rooms/".concat(e))?(E(),V.b.success("Xo\u0301a pho\u0300ng tha\u0300nh c\xf4ng")):V.b.error("Co\u0301 l\xf4\u0303i xa\u0309y ra. Vui lo\u0300ng th\u01b0\u0309 la\u0323i")}catch(t){console.error("Error ",t),V.b.error("Co\u0301 l\xf4\u0303i xa\u0309y ra. Vui lo\u0300ng th\u01b0\u0309 la\u0323i")}},k=[{field:"status",headerName:"Tra\u0323ng tha\u0301i",flex:1,align:"center",headerAlign:"center",renderCell:e=>l.a.createElement("div",{style:{color:e.value?"green":"red",fontWeight:"bold",cursor:"pointer"},onClick:()=>(async(e,t)=>{Object(ce.confirmAlert)({title:"Xa\u0301c nh\xe2\u0323n",message:"Ba\u0323n co\u0301 ch\u0103\u0301c ch\u0103\u0301n mu\xf4\u0301n chi\u0309nh tra\u0323ng tha\u0301i loa\u0323i pho\u0300ng/c\u0103n na\u0300y?",buttons:[{label:"Co\u0301",onClick:async()=>{try{await u.a.put("/rooms/".concat(e),{status:!t}),E(),V.b.success("Chi\u0309nh tra\u0323ng tha\u0301i tha\u0300nh c\xf4ng")}catch(a){console.error("Error ",a),V.b.error("Co\u0301 l\xf4\u0303i xa\u0309y ra. Vui lo\u0300ng th\u01b0\u0309 la\u0323i")}}},{label:"Kh\xf4ng",onClick:()=>{}}]})})(e.row._id,e.row.status)},e.value?"HOA\u0323T \u0110\xd4\u0323NG":"D\u01af\u0300NG")},{field:"action",headerName:"Ha\u0300nh \u0111\xf4\u0323ng",flex:1.75,headerAlign:"center",renderCell:e=>l.a.createElement("div",{className:"cellAction"},l.a.createElement("div",{className:"viewButton wrap-content",onClick:()=>w("/admin/rooms/".concat(e.row._id))},"Chi\u0309nh th\xf4ng tin"),l.a.createElement("div",{className:"viewButton wrap-content",onClick:()=>w("/admin/rooms/smallRoomDetails/".concat(e.row._id))},"Chi\u0309nh s\xf4\u0301 l\u01b0\u01a1\u0323ng"),l.a.createElement("div",{className:"deleteButton wrap-content",onClick:()=>(e=>{v.some(t=>!!t.roomTypeIdsReserved&&t.roomTypeIdsReserved.some(t=>{let{roomTypeId:a}=t;return a===e}))?V.b.error("Loa\u0323i pho\u0300ng na\u0300y co\u0301 \u0111\u01a1n \u0111\u0103\u0323t s\u0103\u0301p t\u01a1\u0301i! Kh\xf4ng th\xea\u0309 xo\u0301a"):Object(ce.confirmAlert)({title:"Xa\u0301c nh\xe2\u0323n",message:"Ba\u0323n co\u0301 ch\u0103\u0301c ch\u0103\u0301n mu\xf4\u0301n xo\u0301a loa\u0323i pho\u0300ng na\u0300y?",buttons:[{label:"Co\u0301",onClick:()=>{x(e)}},{label:"Kh\xf4ng",onClick:()=>{}}]})})(e.row._id)},"Xo\u0301a loa\u0323i pho\u0300ng"))}];return l.a.createElement("div",{className:"listAdmin"},l.a.createElement(ae,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null),l.a.createElement("div",{className:"ListRoomAdminContainer"},l.a.createElement("h2",null,"Pho\u0300ng cu\u0309a ba\u0323n"),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.a.createElement("div",{className:"hotelSelectBox"},l.a.createElement("select",{id:"hotelId",value:i,onChange:e=>{m(e.target.value)}},l.a.createElement("option",{value:"d",disabled:!0,selected:!0},"Ch\u1ecdn ch\xf4\u0303 nghi\u0309"),c?"loading":a&&a.map(e=>l.a.createElement("option",{key:e._id,value:e._id},e.name)))),l.a.createElement("button",{onClick:()=>w("/admin/rooms/new"),style:{fontSize:"14px",backgroundColor:"#5bf800",border:"none",height:"40px",color:"white",fontWeight:"bold",borderRadius:"5px"}},"Th\xeam loa\u0323i pho\u0300ng (loa\u0323i ch\xf4\u0303 \u01a1\u0309)"))),l.a.createElement(ge.a,{autoHeight:!0,getRowHeight:()=>"auto",className:"datagrid",rows:d,columns:pe.concat(k),pageSize:5,rowsPerPageOptions:[5],getRowId:e=>e._id,localeText:{noRowsLabel:l.a.createElement("span",{style:{color:"red"}},"Ba\u0323n ch\u01b0a cho\u0323n ch\xf4\u0303 nghi\u0309 ho\u0103\u0323c ch\xf4\u0303 nghi\u0309 na\u0300y ch\u01b0a co\u0301 pho\u0300ng")}}),l.a.createElement("div",{style:{fontStyle:"italic",width:"95%",margin:"auto"}},'(N\xea\u0301u ba\u0323n mu\xf4\u0301n ta\u0323m d\u01b0\u0300ng ba\u0301n m\xf4\u0323t loa\u0323i pho\u0300ng (loa\u0323i c\u0103n h\xf4\u0323, bi\xea\u0323t th\u01b0\u0323,.. ) na\u0300o \u0111o\u0301, ba\u0323n co\u0301 th\xea\u0309 b\xe2\u0301m va\u0300o \xf4 hi\xea\u0309n thi\u0323 tra\u0323ng tha\u0301i \u0111\xea\u0309 chi\u0309nh tra\u0323ng tha\u0301i . Nh\u01b0\u0303ng loa\u0323i pho\u0300ng \u01a1\u0309 tra\u0323ng tha\u0301i "D\u01af\u0300NG" se\u0303 kh\xf4ng hi\xea\u0309n thi\u0323 \u0111\xf4\u0301i v\u01a1\u0301i kha\u0301ch).')))},we=(a(328),a(425));var xe=()=>{const{data:e,loading:t,error:a,reFetch:c}=I("/reservation/client"),[o,i]=Object(n.useState)(!1),s=async(e,t)=>{i(!0);let a=!1;try{for(const e of t.roomTypeIdsReserved)for(var n=0;n<e.quantity;n++)try{await u.a.put("/rooms/cancelAvailability/".concat(e.roomTypeId),{dates:t.allDatesReserve,unavailableRangeDates:{startDateRange:t.start,endDateRange:t.end}})}catch(l){return console.error(l),void(a=!0)}try{await u.a.put("/reservation/".concat(t._id),{status:0,cancelDetails:{isAdminCancel:t.cancelDetails.isAdminCancel,cancelFee:e}})}catch(l){return a=!0,void console.log(l)}}catch(l){console.error("Error:",l),a=!0}finally{a?V.b.error("\u0110\xe3 x\u1ea3y ra l\u1ed7i trong qu\xe1 tr\xecnh h\u1ee7y ph\xf2ng."):V.b.success("H\u1ee7y ph\xf2ng th\xe0nh c\xf4ng"),i(!1),c()}};return l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(S,{type:"list"}),l.a.createElement("div",{className:"listBookingContainer"},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.a.createElement("h1",null,"\u0110\u0103\u0323t pho\u0300ng cu\u0309a ba\u0323n"),l.a.createElement(r.b,{style:{fontSize:"16px",fontStyle:"italic",marginTop:"5px"},to:"/policy"},"Xem th\xeam v\xea\u0300 chi\u0301nh sa\u0301ch hu\u0309y")),t?l.a.createElement("p",null,"Loading..."):e.map((e,t)=>l.a.createElement("div",{key:t,className:"flex_div_booking"},l.a.createElement("div",{className:"booking_details"},l.a.createElement("div",null,"Ma\u0303 \u0111\u0103\u0323t pho\u0300ng: ",e._id),l.a.createElement("div",null,"Ch\xf4\u0303 nghi\u0309: ",e.hotelName," "),l.a.createElement("div",null,"\u0110i\u0323a chi\u0309: ",e.hotelAddress),l.a.createElement("div",null,"Pho\u0300ng \u0111\u0103\u0323t: ",e.roomsDetail),l.a.createElement("div",null,"T\xf4\u0309ng gia\u0301: ",new Intl.NumberFormat("vi-VN").format(1e3*e.totalPrice)," VND"),l.a.createElement("div",{style:{fontWeight:"bold"}},"Nga\u0300y nh\xe2\u0323n pho\u0300ng:  ",new Date(e.start).toLocaleString("vi-VN")),l.a.createElement("div",{style:{fontWeight:"bold"}},"Nga\u0300y tra\u0309 pho\u0300ng: ",Object(we.a)(new Date(e.end),2).toLocaleString("vi-VN")),l.a.createElement("div",{style:{color:1===e.status?"green":0===e.status?"red":"blue",fontWeight:"bold"}},"T\xecnh tr\u1ea1ng: ",1===e.status?"Th\xe0nh c\xf4ng":0===e.status?"H\u1ee7y":"\u0110ang ch\u1edd"),1===e.status&&e.cancelDetails.isAdminCancel?l.a.createElement("div",{style:{fontWeight:"bold",color:"red",fontStyle:"italic"}},"(\u0110\u01a1n na\u0300y \u0111ang \u0111\u01b0\u01a1\u0323c y\xeau c\xe2\u0300u hu\u0309y t\u01b0\u0300 chu\u0309 ch\xf4\u0303 nghi\u0309. ",l.a.createElement("br",null),"\u0110\u0103\u0323t pho\u0300ng na\u0300y v\xe2\u0303n se\u0303 co\u0301 hi\xea\u0323u l\u01b0\u0323c cho \u0111\xea\u0301n khi ba\u0323n hu\u0309y. ",l.a.createElement("br",null),"Ba\u0323n se\u0303 kh\xf4ng m\xe2\u0301t phi\u0301 hu\u0309y n\xea\u0301u hu\u0309y \u0111\u01a1n na\u0300y)"):"",l.a.createElement("div",null,"Th\xf4ng tin li\xean la\u0323c ch\xf4\u0303 nghi\u0309: ",e.hotelContact)),l.a.createElement("div",{style:{width:"25%",display:"flex",justifyContent:"flex-end",flexWrap:"wrap"}},l.a.createElement("button",{className:"cancel_booking",onClick:()=>(async e=>{let t="",a=0;new Date>Object(we.a)(new Date(e.start),72)&&!e.cancelDetails.isAdminCancel&&new Date>Object(N.a)(new Date(e.createdAt),24)?(a=e.totalPrice/e.allDatesReserve.length,t="Ba\u0323n co\u0301 ch\u0103\u0301c ch\u0103\u0301n mu\xf4\u0301n hu\u0309y \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng na\u0300y? Ba\u0323n kh\xf4ng th\xea\u0309 hoa\u0300n ta\u0301c sau khi hu\u0309y. Ba\u0323n m\xe2\u0301t phi\u0301 hu\u0309y \n      (phi\u0301 \u0111\xeam \u0111\xe2\u0300u- ".concat(new Intl.NumberFormat("vi-VN").format(1e3*a)," VND)\n       n\xea\u0301u hu\u0309y \u0111\u01a1n \u0111\u0103\u0323t na\u0300y.")):t="Ba\u0323n co\u0301 ch\u0103\u0301c ch\u0103\u0301n mu\xf4\u0301n hu\u0309y \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng na\u0300y? Ba\u0323n kh\xf4ng th\xea\u0309 hoa\u0300n ta\u0301c sau khi hu\u0309y. Ba\u0323n se\u0303 kh\xf4ng m\xe2\u0301t phi\u0301 hu\u0309y n\xea\u0301u hu\u0309y \u0111\u01a1n \u0111\u0103\u0323t na\u0300y",Object(ce.confirmAlert)({title:"Xa\u0301c nh\xe2\u0323n hu\u0309y",message:t,buttons:[{label:"Yes",onClick:()=>{s(a,e)}},{label:"No",onClick:()=>{}}]})})(e),disabled:new Date>new Date(e.start)||0==e.status},o?"\u0110ang x\u01b0\u0309 ly\u0301":"Hu\u0309y \u0111\u0103\u0323t pho\u0300ng")," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"right"}},"(Ba\u0323n se\u0303 \u0111\u01b0\u01a1\u0323c mi\xea\u0303n phi\u0301 hu\u0309y n\xea\u0301u hu\u0309y trong 24h k\xea\u0309 t\u01b0\u0300 lu\u0301c \u0111\u0103\u0323t ho\u0103\u0323c tr\u01b0\u01a1\u0301c th\u01a1\u0300i gian nh\xe2\u0323n pho\u0300ng 3 nga\u0300y (tr\u01b0\u01a1\u0301c ",Object(we.a)(new Date(e.start),72).toLocaleString("vi-VN"),"))"))))))};a(329);var ke=()=>{var e;const t=Object(h.n)(),[a,c]=Object(n.useState)(t.state.selectedRoomIds),[o,r]=Object(n.useState)(t.state.alldates),[i,m]=Object(n.useState)(t.state.hotelId),[d,p]=Object(n.useState)(t.state.startDate),[E,v]=Object(n.useState)(t.state.endDate),y=Object(n.useContext)(k),[b,N]=Object(n.useState)(y.options),[f,C]=Object(n.useState)(t.state.seletedRoomIdsReserved),{user:w}=Object(n.useContext)(s),{data:x,loading:O,error:D,reFetch:j}=I("/rooms/".concat(i)),{data:T,loading:R,error:A}=I("/hotels/find/".concat(i)),[_,B]=Object(n.useState)(),[P,F]=Object(n.useState)(),[L,H]=Object(n.useState)(),[M,U]=Object(n.useState)(!1),W=e=>{H(e.target.value)};var z=0,G=0;const q=f.map(e=>({roomTypeId:e.roomTypeId,quantity:e.quantity})),K={};a.forEach(e=>{const t=x.find(t=>t.roomNumbers.some(t=>t._id==e));t&&(z+=t.price,G+=t.maxPeople,K[t.title]?K[t.title]++:K[t.title]=1)});const X=Object.entries(K).map(e=>{let[t,a]=e;return"".concat(t," (x").concat(a,")")}).join(", ");return l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(S,{type:"list"}),l.a.createElement("div",{className:"ReserveContainer"},l.a.createElement("h1",null,"Th\xf4ng tin \u0111\u0103\u0323t pho\u0300ng"),l.a.createElement("div",{className:"ReserveHotelContainer"},l.a.createElement("img",{src:null===(e=T.photos)||void 0===e?void 0:e[0],alt:"",className:"reserveImg"}),l.a.createElement("div",{style:{width:"65%"}},l.a.createElement("div",{style:{fontSize:"30px",fontWeight:"bold",marginBottom:"10px",lineHeight:"30px"}},T.name),l.a.createElement("div",null,"\u0110i\u0323a chi\u0309: ",T.address))),l.a.createElement("div",{style:{width:"100%",backgroundColor:"#d5eefd",boxSizing:"border-box",alignContent:"center",fontWeight:"bold",fontSize:"25px",padding:"10px"}},"  Chi ti\xea\u0301t \u0111\u0103\u0323t pho\u0300ng cu\u0309a ba\u0323n"),l.a.createElement("div",{className:"ReserveDetailContainer"},l.a.createElement("div",null,"Th\u01a1\u0300i gian nh\xe2\u0323n pho\u0300ng:  ",d.toLocaleString("vi-VN")),l.a.createElement("div",null,"Th\u01a1\u0300i gian tra\u0309 pho\u0300ng:  ",Object(we.a)(E,2).toLocaleString("vi-VN")),l.a.createElement("div",null,"T\xf4\u0309ng th\u01a1\u0300i gian l\u01b0u tru\u0301:  ",o.length," \u0111\xeam"),l.a.createElement("div",{style:{fontWeight:"bold"}},"Pho\u0300ng cu\u0309a ba\u0323n:  ",X," "),l.a.createElement("div",{style:{fontWeight:"bold"}},"S\xf4\u0301 ng\u01b0\u01a1\u0300i: ",b.adult," ng\u01b0\u01a1\u0300i l\u01a1\u0301n va\u0300 ",b.children," tre\u0309 em"),parseInt(b.adult)+.5*parseInt(b.children)-G>=2&&l.a.createElement("div",{style:{fontWeight:"bold",color:"red"}},"(Ph\xf2ng c\u1ee7a b\u1ea1n c\xf3 th\u1ec3 kh\xf4ng ch\u1ee9a \u0111\u1ee7 ng\u01b0\u1eddi)"),l.a.createElement("div",{style:{fontWeight:"bold"}},"T\xf4\u0309ng gia\u0301: ",new Intl.NumberFormat("vi-VN").format(z*o.length*1e3)," VND")),l.a.createElement("div",{style:{width:"100%",backgroundColor:"#d5eefd",boxSizing:"border-box",alignContent:"center",fontWeight:"bold",fontSize:"25px",padding:"10px"}},"  Th\xf4ng tin thanh toa\u0301n"),l.a.createElement("div",{className:"ReservePaymentContainer"},l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",gap:"10px"}},l.a.createElement("label",{htmlFor:"phone"},"Nh\xe2\u0323p s\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i cu\u0309a ba\u0323n:"),l.a.createElement("input",{type:"text",id:"phone",value:P,onChange:e=>{F(e.target.value)}})),l.a.createElement("div",null,"Cho\u0323n hi\u0300nh th\u01b0\u0301c thanh toa\u0301n"),l.a.createElement("div",{className:"label_paymentMethod"},l.a.createElement("input",{type:"radio",name:"paymentType",value:"VNBANK",onChange:W}),"Thanh to\xe1n th\u1ebb ATM n\u1ed9i \u0111\u1ecba"),l.a.createElement("div",{className:"label_paymentMethod"},l.a.createElement("input",{type:"radio",name:"paymentType",value:"INTCARD",onChange:W}),"Thanh to\xe1n th\u1ebb VISA")),l.a.createElement("button",{onClick:async()=>{if(U(!0),!L||!P)return V.b.error("Vui lo\u0300ng nh\xe2\u0323p \u0111\xe2\u0300y \u0111u\u0309 th\xf4ng tin thanh toa\u0301n"),void U(!1);try{await u.a.put("/rooms/availability/",{roomTypeIdsReserved:q,dates:o,startDateRange:d,endDateRange:E})}catch(t){return console.log(t),V.b.error(t.response.data.message),void U(!1)}let e="";try{e=(await u.a.post("/reservation",{phoneNumber:P,start:d,end:E,roomTypeIdsReserved:q,roomsDetail:X,guest:{adult:b.adult,children:b.children},allDatesReserve:o,totalPrice:z*o.length,hotelId:i,idOwnerHotel:T.ownerId,status:-1})).data._id}catch(t){return void console.log(t)}V.b.success("\u0110i \u0111\xea\u0301n trang thanh toa\u0301n");try{let t=(await u.a.post("/payment/create_payment_url",{reservationId:e,amount:z*o.length*1e3,paymentType:L})).data;const a=t.indexOf("https://");t=t.substring(a),window.location.href=t}catch(D){console.error("Error creating payment:",D)}U(!1)},className:"rButton",disabled:M},M?"\u0110ang x\u01b0\u0309 ly\u0301...":"Thanh toa\u0301n")))};a(330);var Oe=()=>{var e;const t=Object(h.n)(),[a,c]=Object(n.useState)(""),[o,r]=Object(n.useState)({}),{user:i}=Object(n.useContext)(s),[m,d]=Object(n.useState)(!1),{data:g,loading:p,error:E,reFetch:v}=I("/hotels/getByAdmin"),[y,b]=Object(n.useState)(null===(e=t.state)||void 0===e?void 0:e.hotelIdFromListRoom),N=Object(h.p)(),f=e=>{if("roomNumbers"===e.target.id){const t=parseInt(e.target.value),a=Array.from({length:t},()=>({}));r(t=>({...t,[e.target.id]:a}))}else r(t=>({...t,[e.target.id]:e.target.value}))};return l.a.createElement("div",{className:"listAdmin"},l.a.createElement(ae,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null),l.a.createElement("div",{className:"top"},l.a.createElement("h1",null,"Th\xeam loa\u0323i pho\u0300ng / ch\xf4\u0303 \u01a1\u0309")),l.a.createElement("div",{className:"bottom"},l.a.createElement("div",{className:"left"},a.length>0?a.map((e,t)=>l.a.createElement("div",{key:t,style:{position:"relative",display:"inline-block"}},l.a.createElement("img",{src:URL.createObjectURL(e),alt:"Uploaded image ".concat(t+1),style:{display:"block"}}),l.a.createElement("button",{onClick:()=>(e=>{const t=a.filter((t,a)=>a!==e);c(t)})(t),style:{position:"absolute",top:"5px",right:"5px",backgroundColor:"red",color:"white",border:"none",borderRadius:"50%",width:"20px",height:"20px",cursor:"pointer",textAlign:"center"}},"X"))):l.a.createElement("img",{src:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",alt:"No image"})),l.a.createElement("div",{className:"right"},l.a.createElement("form",null,l.a.createElement("div",{className:"roomSelectBox"},l.a.createElement("select",{id:"hotelId",value:y,onChange:e=>{b(e.target.value)}},l.a.createElement("option",{disabled:!0,selected:!0},"Ch\u1ecdn ch\xf4\u0303 nghi\u0309"),p?"loading":g&&g.map(e=>l.a.createElement("option",{key:e._id,value:e._id},e.name)))),l.a.createElement("div",{className:"formInput"},l.a.createElement("label",{htmlFor:"file"},"Up a\u0309nh (click va\u0300o bi\xea\u0309u t\u01b0\u01a1\u0323ng b\xean ca\u0323nh \u0111\xea\u0309 th\xeam a\u0309nh): ",l.a.createElement(de.a,{className:"icon"})),l.a.createElement("input",{type:"file",id:"file",multiple:!0,onChange:e=>c([...e.target.files]),style:{display:"none"}})),L.map(e=>l.a.createElement("div",{className:"formInput",key:e.id},l.a.createElement("label",null,e.label),l.a.createElement("input",{id:e.id,onChange:f,type:e.type,placeholder:e.placeholder}),"price"==e.id?l.a.createElement("div",{style:{marginTop:"10px",fontStyle:"italic"}},"Ba\u0323n \u0111ang \u0111\xea\u0309 gia\u0301: ",o.price&&Intl.NumberFormat("vi-VN").format(1e3*o.price)," VND"):null)),l.a.createElement("label",null,"M\xf4 ta\u0309 (v\xea\u0300 c\u01a1 s\u01a1\u0309 v\xe2\u0323t ch\xe2\u0301t,...) (t\xf4\u0301i \u0111a 500 ky\u0301 t\u01b0\u0323) "),l.a.createElement("textarea",{id:"desc",rows:"4",maxLength:"500",onChange:f,style:{width:"100%",padding:"10px",fontSize:"16px",border:"1px solid #ccc",borderRadius:"5px",boxSizing:"border-box"}}),l.a.createElement("button",{onClick:async e=>{e.preventDefault(),d(!0);try{if(a.length>=15)return void V.b.error("Ba\u0323n chi\u0309 co\u0301 th\xea\u0309 up t\xf4\u0301i \u0111a 15 a\u0309nh");const e=await Promise.all(Object.values(a).map(async e=>{const t=new FormData;t.append("file",e);const a=await u.a.post("/closedRoom/upload/uploadImage",t),{url:n}=a.data;return n}));if((()=>{for(let e of L)if(!document.getElementById(e.id).value)return!1;return!(!document.getElementById("desc").value.trim()||null==y)&&!(document.getElementById("price").value<0||document.getElementById("maxPeople").value<0)})()){const t={...o,photos:e};await u.a.post("/rooms/".concat(y),t)?(V.b.success("Th\xe0nh c\xf4ng!"),N("/admin/rooms",{state:{hotelIdFromAddModifyRoom:y}})):V.b.error("Co\u0301 l\xf4\u0303i xa\u0309y ra vui lo\u0300ng ta\u0309i la\u0323i trang va\u0300 th\u01b0\u0309 la\u0323i")}else V.b.error("Ba\u0323n ch\u01b0a \u0111i\xea\u0300n \u0111u\u0309 th\xf4ng tin ho\u0103\u0323c th\xf4ng tin kh\xf4ng h\u01a1\u0323p l\xea\u0323!")}catch(t){console.log(t)}finally{d(!1)}},disabled:m},m?"\u0110ang l\u01b0u...":"Xa\u0301c nh\xe2\u0323n"))))))};var De=()=>{var e,t;const a=Object(h.n)(),c=a.pathname.split("/")[3],{data:o,loading:r,error:i}=I("/rooms/find/".concat(c)),[m,d]=Object(n.useState)(""),[g,p]=Object(n.useState)(o),{user:E}=Object(n.useContext)(s),[v,y]=Object(n.useState)(!1),b=Object(h.p)();"/admin/rooms"!==(null===(e=a.state)||void 0===e?void 0:e.previousPath)&&b("/admin/rooms"),Object(n.useEffect)(()=>{o&&p(o)},[o]);const N=e=>{p(t=>({...t,[e.target.id]:e.target.value}))};return l.a.createElement("div",{className:"listAdmin"},l.a.createElement(ae,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null),l.a.createElement("div",{className:"top"},l.a.createElement("h1",{style:{fontWeight:"bold"}},"Chi\u0309nh s\u01b0\u0309a th\xf4ng tin")),l.a.createElement("div",{className:"bottom"},l.a.createElement("div",{className:"left"},m.length>0?m.map((e,t)=>l.a.createElement("div",{key:t,style:{position:"relative",display:"inline-block"}},l.a.createElement("img",{src:URL.createObjectURL(e),alt:"Uploaded image ".concat(t+1),style:{display:"block"}}),l.a.createElement("button",{onClick:()=>(e=>{const t=m.filter((t,a)=>a!==e);d(t)})(t),style:{position:"absolute",top:"5px",right:"5px",backgroundColor:"red",color:"white",border:"none",borderRadius:"50%",width:"20px",height:"20px",cursor:"pointer",textAlign:"center"}},"X"))):l.a.createElement("div",{className:"no-image-container"},null===(t=o.photos)||void 0===t?void 0:t.map((e,t)=>l.a.createElement("img",{key:t,src:e,alt:"\u1ea2nh ".concat(t)})))),l.a.createElement("div",{className:"right"},l.a.createElement("form",null,l.a.createElement("div",{className:"formInput"},l.a.createElement("label",{htmlFor:"file"},"A\u0309nh: (Click va\u0300o \u0111\xe2y \u0111\xea\u0309 up la\u0323i a\u0309nh) ",l.a.createElement(de.a,{className:"icon"})),l.a.createElement("input",{type:"file",id:"file",multiple:!0,onChange:e=>d([...e.target.files]),style:{display:"none"}})),L.slice(0,3).map(e=>l.a.createElement("div",{className:"formInput",key:e.id},l.a.createElement("label",null,e.label),l.a.createElement("input",{id:e.id,onChange:N,type:e.type,value:g[e.id]}),"price"==e.id?l.a.createElement("div",{style:{marginTop:"10px",fontStyle:"italic"}},"Ba\u0323n \u0111ang \u0111\xea\u0309 gia\u0301: ",g.price&&Intl.NumberFormat("vi-VN").format(1e3*g.price)," VND"):null)),l.a.createElement("label",null,"M\xf4 ta\u0309 (t\xf4\u0301i \u0111a 500 ky\u0301 t\u01b0\u0323)"),l.a.createElement("textarea",{id:"desc",rows:"4",maxLength:"500",onChange:N,value:g.desc,style:{width:"100%",padding:"10px",fontSize:"16px",border:"1px solid #ccc",borderRadius:"5px",boxSizing:"border-box"}}),l.a.createElement("button",{onClick:async e=>{y(!0),e.preventDefault();try{const e=await Promise.all(Object.values(m).map(async e=>{const t=new FormData;t.append("file",e);const a=await u.a.post("/closedRoom/upload/uploadImage",t),{url:n}=a.data;return n}));if(!(()=>{for(let e of L.slice(0,3))if(!document.getElementById(e.id).value)return!1;return!!document.getElementById("desc").value.trim()&&!(document.getElementById("price").value<0||document.getElementById("maxPeople").value<0)})())return void V.b.error("Ba\u0323n ch\u01b0a \u0111i\xea\u0300n \u0111u\u0309 th\xf4ng tin ho\u0103\u0323c th\xf4ng tin kh\xf4ng h\u01a1\u0323p l\xea\u0323!");const a={...g,...e.length>0&&{photos:e}};await u.a.put("/rooms/".concat(c),a)?(y(!1),V.b.success("Th\xe0nh c\xf4ng chi\u0309nh s\u01b0\u0309a!"),b("/admin/rooms",{state:{hotelIdFromAddModifyRoom:o.hotelId}})):(V.b.error("Co\u0301 l\xf4\u0303i xa\u0309y ra vui lo\u0300ng ta\u0309i la\u0323i trang va\u0300 th\u01b0\u0309 la\u0323i"),y(!1))}catch(t){console.log(t),V.b.error("Co\u0301 l\xf4\u0303i xa\u0309y ra vui lo\u0300ng ta\u0309i la\u0323i trang va\u0300 th\u01b0\u0309 la\u0323i"),y(!1)}finally{y(!1)}},disabled:v},v?"\u0110ang l\u01b0u...":"L\u01b0u th\xf4ng tin loa\u0323i pho\u0300ng"))))))},je=(a(331),a(426));a(332);const Se=new Date,Ie=[{startDate:Object(je.a)(Se,100),endDate:Object(oe.default)(Se,100),key:"selection"}];var Te=()=>{const{user:e}=Object(n.useContext)(s),t=Object(n.useContext)(k),[a,c]=Object(n.useState)(t.dates),[o,r]=Object(n.useState)(Ie),{data:i,loading:m,error:d,reFetch:h}=I("/reservation/admin?startDay=".concat(o[0].startDate,"&endDay=").concat(o[0].endDate)),[g,b]=Object(n.useState)(!1),[N,f]=Object(n.useState)(!1),[C,w]=Object(n.useState)(!1),[x,O]=Object(n.useState)(""),[D,j]=Object(n.useState)(""),S=[{field:"action",headerName:"Y\xeau c\xe2\u0300u hu\u0309y",flex:1,minWidth:120,headerAlign:"center",renderCell:e=>{const{cancelDetails:t,status:a}=e.row;return(null===t||void 0===t?void 0:t.isAdminCancel)?1==a?l.a.createElement("div",{className:"cellRequestCancel"},l.a.createElement("div",{style:{color:"blueviolet"}},"\u0110a\u0303 y\xeau c\xe2\u0300u hu\u0309y")):l.a.createElement("div",{className:"cellRequestCancel"},l.a.createElement("div",{style:{color:"blueviolet",whiteSpace:"normal",textAlign:"center"}},"Y\xeau c\xe2\u0300u hu\u0309y tha\u0300nh c\xf4ng")):new Date>new Date(e.row.start)||1!==e.row.status?void 0:l.a.createElement("div",{className:"cellRequestCancel"},l.a.createElement("div",{className:"requestCancelButton",onClick:()=>(e=>{new Date>new Date(e.start)||1!==e.status?V.b.error("Ba\u0323n kh\xf4ng th\xea\u0309 y\xeau c\xe2\u0300u hu\u0309y \u0111\u01a1n na\u0300y!"):(j(e),f(!0))})(e.row)},"Y\xeau c\xe2\u0300u hu\u0309y"))}}];return l.a.createElement("div",{className:"listAdmin"},l.a.createElement(ae,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null),l.a.createElement("div",{className:"ListReservationAdminContainer"},N&&l.a.createElement("div",{className:"modalCancelRequest"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("span",{className:"modalCancelRequest_close",onClick:()=>{f(!1)}},"\xd7"),l.a.createElement("div",{className:"modalCancelRequest_title"},"Y\xcaU C\xc2\u0300U HU\u0309Y PHO\u0300NG"),l.a.createElement("textarea",{type:"text",value:x,rows:"4",placeholder:"Nh\xe2\u0323p ly\u0301 do mu\xf4\u0301n hu\u0309y. Y\xeau c\xe2\u0300u hu\u0309y va\u0300 ly\u0301 do se\u0303 \u0111\u01b0\u01a1\u0323c g\u01b0\u0309i \u0111\xea\u0301n email cu\u0309a kha\u0301ch. L\u01b0u y\u0301 r\u0103\u0300ng \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng v\xe2\u0303n se\u0303 co\u0301 hi\xea\u0323u l\u01b0\u0323c cho \u0111\xea\u0301n khi kha\u0301ch \u0111\xf4\u0300ng y\u0301 hu\u0309y.",onChange:e=>O(e.target.value)}),l.a.createElement("div",null,l.a.createElement("button",{className:"modalCancelRequest_btn",disabled:C,onClick:async()=>{w(!0);let e=!1;try{try{await u.a.put("/reservation/".concat(D._id),{cancelDetails:{isAdminCancel:!0}})}catch(t){return e=!0,void console.log(t)}}catch(t){console.log(t)}finally{e?(V.b.error("\u0110\xe3 x\u1ea3y ra l\u1ed7i. Vui lo\u0300ng th\u01b0\u0309 la\u0323i."),f(!1)):(V.b.success("G\u01b0\u0309i y\xeau c\xe2\u0300u hu\u0309y th\xe0nh c\xf4ng"),f(!1)),w(!1),h()}}}," ",C?"\u0110ang x\u1eed l\xfd...":"Y\xeau c\u1ea7u h\u1ee7y")))),l.a.createElement("h2",null,"Nh\u01b0\u0303ng \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng ta\u0323i ch\xf4\u0303 nghi\u0309 cu\u0309a ba\u0323n"),l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",gap:"10px",marginBottom:"10px",textAlign:"center"}},l.a.createElement("div",{style:{width:"20%"},className:"ListReservationAdminContainer_searchDates"},l.a.createElement(E.a,{icon:p.b,className:"ListReservationAdminContainer_icon"}),l.a.createElement("span",{onClick:()=>b(!g)},"".concat(Object(y.default)(a[0].startDate,"dd/MM/yyyy")," to ").concat(Object(y.default)(a[0].endDate,"dd/MM/yyyy"))),g&&l.a.createElement(v.DateRange,{onChange:e=>(e=>{const t={...e.selection},{startDate:a,endDate:n}=t;a.setHours(14,0,0,0),n.setHours(14,0,0,0),c([{...t,startDate:a,endDate:n}])})(e),ranges:a,moveRangeOnFirstSelection:!1,editableDateInputs:!0,className:"date"})),l.a.createElement("button",{className:"ListReservationAdminContainer_filterBtn",onClick:()=>{r(a)}},"Lo\u0323c theo nga\u0300y"),l.a.createElement("button",{className:"ListReservationAdminContainer_filterBtn",onClick:()=>{r(Ie)}},"Hu\u0309y lo\u0323c"),l.a.createElement("div",{style:{fontStyle:"italic"}},"(Lo\u0323c theo nga\u0300y \u0111\u01b0\u01a1\u0323c ti\u0301nh theo nga\u0300y check in cu\u0309a \u0111\u01a1n, vi\u0301 du\u0323 n\xea\u0301u ",l.a.createElement("br",null),"\u0111\xea\u0309 khoa\u0309ng nga\u0300y 19 \u0111\xea\u0301n 20 se\u0303 l\xe2\u0301y \u0111\u01a1n co\u0301 check in nga\u0300y 19 va\u0300 20)")),l.a.createElement(ge.a,{autoHeight:!0,getRowHeight:()=>"auto",sx:{"&.MuiDataGrid-root--densityCompact .MuiDataGrid-cell":{py:"8px"},"&.MuiDataGrid-root--densityStandard .MuiDataGrid-cell":{py:"15px"},"&.MuiDataGrid-root--densityComfortable .MuiDataGrid-cell":{py:"22px"}},rows:i,columns:ve.concat(S),pageSize:8,rowsPerPageOptions:[5],getRowId:e=>e._id}))))},Re=(a(342),a(200)),Ae=a.n(Re);var _e=()=>{var e;const t=Object(h.n)(),a=t.pathname.split("/")[4],[c,o]=Object(n.useState)(0),{data:r,loading:i,error:s,reFetch:m}=I("/reservation/getRevenue/".concat(a,"?month=").concat(c)),{data:d,loading:u,error:g,reFetch:p}=I("/reservation/getRevenueByMonths/".concat(a));console.log(d);const E=Object(h.p)();"/admin/hotels"!==(null===(e=t.state)||void 0===e?void 0:e.previousPath)&&E("/admin/hotels");const v=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(1e3*e);return Object(n.useEffect)(()=>{if(Ae.a.chart("column_revenueByMonth",{chart:{type:"line"},title:{text:"Bi\u1ec3u \u0111\u1ed3 doanh thu 6 tha\u0301ng g\xe2\u0300n nh\xe2\u0301t",style:{fontWeight:"bold"}},xAxis:{categories:d.map(e=>e.month+"/"+e.year).reverse(),title:{text:"Danh thu (\u0111\u01b0\u01a1\u0323c ti\u0301nh theo t\xf4\u0309ng gia\u0301 tri\u0323 t\xe2\u0301t ca\u0309 \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng. Th\u01a1\u0300i gian \u0111\u01b0\u01a1\u0323c ti\u0301nh theo nga\u0300y check in cu\u0309a \u0111\u01a1n)."}},yAxis:{title:{text:"Doanh thu"},labels:{formatter:function(){return v(this.value)}}},tooltip:{formatter:function(){return"Doanh thu: "+v(this.y)}},credits:{enabled:!1},accessibility:{enabled:!1},series:[{name:"Doanh thu",data:d.map(e=>e.revenue).reverse()}]}),!i){const e=r.soldRooms;console.log(e);const t=[];for(const a in e)e.hasOwnProperty(a)&&t.push({name:a,y:e[a]});Ae.a.chart("pieChart-container",{chart:{type:"pie"},title:{text:"Ty\u0309 l\xea\u0323 s\xf4\u0301 l\u01b0\u01a1\u0323ng loa\u0323i pho\u0300ng \u0111a\u0303 ba\u0301n",style:{fontWeight:"bold"}},credits:{enabled:!1},series:[{name:"S\xf4\u0301 l\u01b0\u01a1\u0323ng \u0111a\u0303 ba\u0301n",data:t}]})}},[d,r]),l.a.createElement("div",{className:"listAdmin"},l.a.createElement(ae,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null),l.a.createElement("div",{className:"hotelStatisticContainer"},l.a.createElement("div",{style:{fontSize:"30px",fontWeight:"bold",marginBottom:"10px"}},"T\xf4\u0309ng quan ch\xf4\u0303 nghi\u0309"),l.a.createElement("select",{value:c,onChange:e=>{o(parseInt(e.target.value))}},l.a.createElement("option",{value:0},"T\u1ea5t c\u1ea3 "),l.a.createElement("option",{value:1},"Trong th\xe1ng n\xe0y "),l.a.createElement("option",{value:-1},"Trong th\xe1ng tr\u01b0\u1edbc")),l.a.createElement("div",{style:{marginBottom:"20px",fontSize:"14px",fontStyle:"italic"}},"(\u0110\xf4\u0301i v\u01a1\u0301i l\u01b0\u0323a cho\u0323n t\xe2\u0301t ca\u0309 va\u0300 trong tha\u0301ng na\u0300y se\u0303 bao g\xf4\u0300m ca\u0309 nh\u01b0\u0303ng \u0111\u01a1n s\u0103\u0301p t\u01a1\u0301i, \u0111\u01b0\u01a1\u0323c ti\u0301nh theo nga\u0300y check-in cu\u0309a \u0111\u01a1n. T\xf4\u0309ng doanh thu bao g\xf4\u0300m ca\u0309 phi\u0301 hu\u0309y cu\u0309a nh\u01b0\u0303ng \u0111\u01a1n hu\u0309y co\u0301 phi\u0301)"),l.a.createElement("div",{className:"overviewStatistic"},l.a.createElement("div",{className:"overviewStatistic_card"},l.a.createElement("div",{style:{fontSize:"15px"}},"T\xf4\u0309ng doanh thu (VND)"),l.a.createElement("div",{style:{fontSize:"10px"}}),l.a.createElement("div",{style:{fontWeight:"bold",fontSize:"30px"}},new Intl.NumberFormat("vi-VN").format(1e3*r.totalRevenue))),l.a.createElement("div",{className:"overviewStatistic_card"},l.a.createElement("div",{style:{fontSize:"15px"}},"T\xf4\u0309ng s\xf4\u0301 kha\u0301ch"),l.a.createElement("div",{style:{fontWeight:"bold",fontSize:"30px"}},r.totalGuests)),l.a.createElement("div",{className:"overviewStatistic_card"},l.a.createElement("div",{style:{fontSize:"15px"}},"T\xf4\u0309ng s\xf4\u0301 \u0111\u01a1n \u0111\u0103\u0323t tha\u0300nh c\xf4ng"),l.a.createElement("div",{style:{fontWeight:"bold",fontSize:"30px"}},r.totalOrders))),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("div",{id:"column_revenueByMonth",style:{flex:1,width:"48%",height:"400px",marginTop:"50px"}}),l.a.createElement("div",{id:"pieChart-container",style:{flex:1,width:"48%",height:"400px",marginTop:"50px",marginLeft:"50px"}})))))},Be=(a(343),a(344),a(195)),Pe=a.n(Be);var Fe=()=>{const{user:e,dispatch:t}=Object(n.useContext)(s),a=Object(h.p)();return l.a.createElement("div",{className:"sidebar"},l.a.createElement("div",{className:"top"},l.a.createElement(r.b,{to:"/",style:{textDecoration:"none"}},l.a.createElement("span",{className:"logo"},"HotelBooking"))),l.a.createElement("div",{className:"center"},l.a.createElement("div",{style:{color:"red"}},"Quy\xea\u0300n admin"),l.a.createElement("ul",null,l.a.createElement("p",{className:"title"},"MU\u0323C"),l.a.createElement(r.b,{to:"/administrator/allHotelPayments",style:{textDecoration:"none"}},l.a.createElement("li",null,l.a.createElement(Pe.a,{className:"icon"}),l.a.createElement("span",null,"Thanh toa\u0301n"))),l.a.createElement(r.b,{to:"/administrator",style:{textDecoration:"none"}},l.a.createElement("li",null,l.a.createElement(K.a,{className:"icon"}),l.a.createElement("span",null,"Doanh thu ca\u0301c ch\xf4\u0303 nghi\u0309"))),l.a.createElement("p",{className:"title"},"TA\u0300I KHOA\u0309N"),l.a.createElement("li",{onClick:async e=>{e.preventDefault();try{await u.a.post("/auth/logout"),t({type:"LOGOUT"}),a("/login")}catch(n){}}},l.a.createElement(Q.a,{className:"icon"}),l.a.createElement("span",null,"\u0110\u0103ng xu\xe2\u0301t")))))};var Le=()=>{const{data:e,loading:t,error:a,reFetch:n}=I("/reservation/getAllRevenueHotel");return l.a.createElement("div",{className:"listAdmin"},l.a.createElement(Fe,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null),l.a.createElement("div",{className:"listAllHotelRevenue"},l.a.createElement("div",{style:{fontWeight:"bold"}},"DOANH THU CA\u0301C CH\xd4\u0303 NGHI\u0309"),l.a.createElement(ge.a,{autoHeight:!0,className:"datagridAllHotelRenvenue",rows:e,columns:ye,pageSize:10,rowsPerPageOptions:[5],checkboxSelection:!0,getRowId:e=>e.hotelId}))))},He=(a(345),a(430)),Me=a(136),Ve=a(243);var Ue=()=>{const{data:e,loading:t,error:a,reFetch:n}=I("/reservation/getAllPaymentAccount");return l.a.createElement("div",{className:"listAdmin"},l.a.createElement(Fe,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null),l.a.createElement("div",{className:"listAllHotelPayment"},l.a.createElement("div",{style:{fontWeight:"bold"}},"KHOA\u0309N C\xc2\u0300N THANH TOA\u0301N CHO CA\u0301C CHU\u0309 CH\xd4\u0303 NGHI\u0309 TRONG THA\u0301NG TR\u01af\u01a0\u0301C"),l.a.createElement("button",{className:"export_btn",onClick:()=>{const t=be.map(e=>e.headerName),a=e.map(e=>{let t={};return be.forEach(a=>{"totalPrice"===a.field?t[a.headerName]=new Intl.NumberFormat("vi-VN").format(1e3*e[a.field]):a.valueGetter?t[a.headerName]=new Intl.NumberFormat("vi-VN").format(a.valueGetter({row:e})):t[a.headerName]=e[a.field]}),t}),n=Me.a.json_to_sheet(a,{header:t});n["!cols"]=be.map(e=>({wpx:170}));const l=Me.a.book_new();Me.a.book_append_sheet(l,n,"HotelRevenue");const c=Me.b(l,{bookType:"xlsx",type:"array"}),o=new Blob([c],{type:"application/octet-stream"});Object(Ve.saveAs)(o,"HotelRevenue.xlsx")},style:{marginBottom:"10px"}},"Xu\u1ea5t Excel"),l.a.createElement(ge.a,{autoHeight:!0,slots:{toolbar:He.a},className:"datagridListAllHotelPayment",rows:e,columns:be,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,getRowId:e=>e.idOwnerHotel}))))};a(346),a(347);const We=new Date,ze=[{startDate:We,endDate:Object(b.default)(We,29),key:"selection"}];var Ge=()=>{var e,t;const[a,c]=Object(n.useState)(ze),o=Object(h.n)(),r=o.pathname.split("/")[4],{data:i,loading:m,error:d,reFetch:g}=I("/rooms/find/".concat(r)),{data:f,loading:C,error:w,reFetch:x}=I("/rooms/statusRoomCount/".concat(r,"?startDate=").concat(a[0].startDate,"&endDate=").concat(a[0].endDate)),{data:O,loading:D,error:j,reFetch:S}=I("/closedRoom/".concat(r)),[T,R]=Object(n.useState)(!1),[A,_]=Object(n.useState)(!1),B=Object(n.useContext)(k),[P,F]=Object(n.useState)(B.dates),[L,H]=Object(n.useState)([]),[M,U]=Object(n.useState)(Math.random()),[W,z]=Object(n.useState)(0),{user:G}=Object(n.useContext)(s),q=Object(h.p)();"/admin/rooms"!==(null===(e=o.state)||void 0===e?void 0:e.previousPath)&&q("/admin/rooms");const K=((e,t)=>{const a=new Date(e),n=new Date(t),l=new Date(a.getTime()),c=[];for(;l<=n;)c.push(new Date(l).getTime()),l.setDate(l.getDate()+1);return c})(P[0].startDate,P[0].endDate),X=(e,t)=>!e.unavailableDates.some(e=>{const a=new Date(e).getTime();return t==a});const Y=async(e,t,a,n,l)=>{let c=!1;try{for(var o=0;o<n;o++)try{await u.a.put("/rooms/cancelAvailability/".concat(i._id),{dates:e,unavailableRangeDates:{startDateRange:t,endDateRange:Object(b.default)(new Date(a),1)}})}catch(r){console.error(r),c=!0}try{await u.a.delete("/closedRoom/".concat(l)),S(),g(),x()}catch(d){console.error(d),c=!0,V.b.error("Co\u0301 l\xf4\u0303i xa\u0309y ra trong khi xo\u0301a li\u0323ch s\u01b0\u0309 \u0111o\u0301ng pho\u0300ng")}}catch(r){console.error("Error:",r),c=!0}c||V.b.success("\u0110a\u0303 m\u01a1\u0309 la\u0323i pho\u0300ng \u0111o\u0301ng")};let J=0;return l.a.createElement("div",{className:"listAdmin"},l.a.createElement(ae,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null),l.a.createElement("div",{key:M,className:"detailsRoomTypeContainer"},l.a.createElement("div",{style:{display:"flex",gap:"20px",alignItems:"center"}},l.a.createElement("div",{style:{fontSize:"20px",fontWeight:"bold"}},"Loa\u0323i pho\u0300ng/c\u0103n: ",i.title," (t\xf4\u0309ng s\xf4\u0301 l\u01b0\u01a1\u0323ng pho\u0300ng/c\u0103n: ",null===(t=i.roomNumbers)||void 0===t?void 0:t.length,")"),l.a.createElement("button",{className:"detailsRoomTypeContainer_modifyNumberRooms",onClick:()=>q("/admin/rooms/smallRoomDetails/modifyRoomCount/".concat(r),{state:{previousPath:"/admin/rooms/smallRoomDetails"}})},"Chi\u0309nh s\xf4\u0301 l\u01b0\u01a1\u0323ng")),l.a.createElement("div",{style:{fontWeight:"bold",fontSize:"18px"}},"S\xf4\u0301 l\u01b0\u01a1\u0323ng pho\u0300ng/c\u0103n \u0111ang rao ba\u0301n trong 30 nga\u0300y t\u01a1\u0301i"),l.a.createElement("div",{style:{width:"20%",margin:"10px 0px"},className:"closeRoomSearchBar"},l.a.createElement(E.a,{icon:p.b,className:"icon"}),l.a.createElement("span",{onClick:()=>_(!A)},"".concat(Object(y.default)(a[0].startDate,"dd/MM/yyyy")," \u0111\xea\u0301n ").concat(Object(y.default)(a[0].endDate,"dd/MM/yyyy"))),A&&l.a.createElement(v.DateRange,{onChange:e=>(e=>{const t=(new Date).getTimezoneOffset()/60,a={...e.selection};let{startDate:n,endDate:l}=a;n=Object(N.a)(n,7-t),l=Object(b.default)(new Date(n),29),c([{...a,startDate:n,endDate:l}]),U(Math.random())})(e),ranges:a,moveRangeOnFirstSelection:!1,editableDateInputs:!0,className:"dateRange"})),l.a.createElement("div",{className:"tableRoomStatus"},l.a.createElement("div",{className:"grid-container"},f.map((e,t)=>{var a,n,c;return l.a.createElement("div",{className:"grid-item",key:t},l.a.createElement("div",null,"".concat(e.day,"/").concat(e.month,"/").concat(e.year)),l.a.createElement("div",null,"\u0110ang rao ba\u0301n: ",e.countAvailable),l.a.createElement("div",{style:{color:(null===(a=i.roomNumbers)||void 0===a?void 0:a.length)-e.countAvailable-e.closeRoomCount!==0?"red":"inherit",fontWeight:(null===(n=i.roomNumbers)||void 0===n?void 0:n.length)-e.countAvailable-e.closeRoomCount!==0?"bold":"normal"}},"\u0110\xe3 b\xe1n: ",(null===(c=i.roomNumbers)||void 0===c?void 0:c.length)-e.countAvailable-e.closeRoomCount),l.a.createElement("div",{style:{color:0!==e.closeRoomCount?"red":"inherit",fontWeight:0!==e.closeRoomCount?"bold":"normal"}},"\u0110\xe3 \u0111o\u0301ng: ",e.closeRoomCount))}))),l.a.createElement("div",{className:"closeRoomContainer"},l.a.createElement("div",{style:{fontWeight:"bold",fontSize:"20px"}},"\u0110o\u0301ng pho\u0300ng/c\u0103n"),l.a.createElement("div",{style:{fontStyle:"italic",marginBottom:"10px"}},"(Ba\u0323n co\u0301 th\xea\u0309 \u0111o\u0301ng 1 s\xf4\u0301 l\u01b0\u01a1\u0323ng pho\u0300ng/c\u0103n va\u0300o trong 1 khoa\u0309ng nga\u0300y nh\xe2\u0301t \u0111i\u0323nh)"),l.a.createElement("div",{className:"selectRoomClose"},l.a.createElement("div",{style:{width:"20%"},className:"closeRoomSearchBar"},l.a.createElement(E.a,{icon:p.b,className:"icon"}),l.a.createElement("span",{onClick:()=>R(!T)},"".concat(Object(y.default)(P[0].startDate,"dd/MM/yyyy")," \u0111\xea\u0301n ").concat(Object(y.default)(P[0].endDate,"dd/MM/yyyy"))),T&&l.a.createElement(v.DateRange,{onChange:e=>(e=>{const t=(new Date).getTimezoneOffset()/60,a={...e.selection};let{startDate:n,endDate:l}=a;n=Object(N.a)(n,7-t),l=Object(N.a)(l,7-t),F([{...a,startDate:n,endDate:l}]),U(Math.random())})(e),ranges:P,moveRangeOnFirstSelection:!1,editableDateInputs:!0,className:"dateRange"})),l.a.createElement("div",{key:M,style:{display:"flex",alignItems:"center",gap:"5px"}},l.a.createElement("div",null,"S\xf4\u0301 l\u01b0\u01a1\u0323ng pho\u0300ng mu\xf4\u0301n \u0111o\u0301ng:  "),l.a.createElement("select",{style:{height:"20px"},onChange:e=>((e,t)=>{let a=e.target.value;z(a)})(e,i.roomNumbers)},l.a.createElement("option",{value:0},"0 ph\xf2ng"),(()=>{J=999;for(let t of K){let e=0;if(i&&Array.isArray(i.roomNumbers)){for(let a of i.roomNumbers)X(a,t)&&e++;e<J&&(J=e)}}const e=[];for(let t=1;t<=J;t++)e.push(l.a.createElement("option",{value:t},t," pho\u0300ng"));return e})())),l.a.createElement("div",null,"S\xf4\u0301 l\u01b0\u01a1\u0323ng pho\u0300ng hi\xea\u0323n \u0111ang rao ba\u0301n (co\u0301 th\xea\u0309 \u0111o\u0301ng): ",J),l.a.createElement("button",{className:"closeRoomContainer_btn",onClick:async()=>{try{if(0==parseInt(W,10))return void V.b.error("S\xf4\u0301 l\u01b0\u01a1\u0323ng pho\u0300ng mu\xf4\u0301n \u0111o\u0301ng pha\u0309i l\u01a1\u0301n h\u01a1n 0");await u.a.put("/rooms/availability/",{roomTypeIdsReserved:[{roomTypeId:r,quantity:parseInt(W,10)}],dates:K,startDateRange:P[0].startDate,endDateRange:Object(b.default)(P[0].endDate,1)})}catch(e){return console.log(e),void V.b.error("Co\u0301 l\xf4\u0303i xa\u0309y ra vui lo\u0300ng ta\u0309i la\u0323i trang va\u0300 th\u01b0\u0309 la\u0323i")}try{await u.a.post("/closedRoom/createCloseRoom/".concat(r),{roomTypeId:r,startClose:P[0].startDate,endClose:P[0].endDate,quantityRoomClosed:W,allDatesClosed:K})}catch(e){return console.log(e),void V.b.error("Co\u0301 l\xf4\u0303i xa\u0309y ra")}V.b.success("\u0110o\u0301ng pho\u0300ng tha\u0300nh c\xf4ng"),S(),g(),x()}},"Xa\u0301c nh\xe2\u0323n \u0111o\u0301ng")),l.a.createElement("div",{style:{fontWeight:"bold",fontSize:"20px",marginTop:"20px"}},"Li\u0323ch s\u01b0\u0309 \u0111\u01a1n \u0111o\u0301ng pho\u0300ng"),l.a.createElement("div",{className:"listRoomClosed"},l.a.createElement("div",{style:{backgroundColor:"#ccc"},className:"roomCloseContainer"},l.a.createElement("div",{className:"roomClose"},"STT"),l.a.createElement("div",{className:"roomClose"},"\u0110o\u0301ng t\u01b0\u0300 nga\u0300y"),l.a.createElement("div",{className:"roomClose"},"\u0110\xea\u0301n h\xea\u0301t nga\u0300y"),l.a.createElement("div",{className:"roomClose"},"S\xf4\u0301 l\u01b0\u01a1\u0323ng pho\u0300ng \u0111o\u0301ng"),l.a.createElement("div",{style:{width:"20%"},className:"roomClose"},"Ha\u0300nh \u0111\xf4\u0323ng")),null===O||void 0===O?void 0:O.filter(e=>{const t=new Date;return t.setHours(0,0,0,0),new Date(e.endClose)>t}).map((e,t)=>l.a.createElement("div",{key:t,className:"roomCloseContainer"},l.a.createElement("div",{className:"roomClose"},t+1),l.a.createElement("div",{className:"roomClose"},new Date(new Date(e.startClose)).toLocaleDateString("vi-VN")),l.a.createElement("div",{className:"roomClose"},new Date(new Date(e.endClose)).toLocaleDateString("vi-VN")),l.a.createElement("div",{className:"roomClose"},e.quantityRoomClosed),l.a.createElement("button",{style:{width:"20%"},className:"roomNumber",onClick:()=>((e,t,a,n,l)=>{Object(ce.confirmAlert)({title:"Xa\u0301c nh\xe2\u0323n",message:"Ba\u0323n co\u0301 ch\u0103\u0301c ch\u0103\u0301n mu\xf4\u0301n m\u01a1\u0309 la\u0323i pho\u0300ng \u0111a\u0303 \u0111o\u0301ng ?",buttons:[{label:"Yes",onClick:()=>{Y(e,t,a,n,l)}},{label:"No",onClick:()=>{}}]})})(e.allDatesClosed,e.startClose,e.endClose,e.quantityRoomClosed,e._id)},"M\u01a0\u0309 LA\u0323I"))))))))};a(348);var qe=()=>{var e,t,a,c;const o=Object(h.n)(),r=o.pathname.split("/")[5],{data:i,loading:s,error:m,reFetch:d}=I("/rooms/find/".concat(r)),[g,p]=Object(n.useState)(0),[E,v]=Object(n.useState)(0),y=Object(h.p)();"/admin/rooms/smallRoomDetails"!==(null===(e=o.state)||void 0===e?void 0:e.previousPath)&&y("/admin/rooms");const b=e=>{if(!e.unavailableDates||0===e.unavailableDates.length)return!0;for(const t of e.unavailableDates)if(new Date<=new Date(t))return!1;return!0};return l.a.createElement("div",{className:"listAdmin"},l.a.createElement(ae,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null),l.a.createElement("div",{className:"ModifyRoomCountContainer"},l.a.createElement("div",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"20px"}},"Loa\u0323i pho\u0300ng: ",i.title," (t\xf4\u0309ng s\xf4\u0301 l\u01b0\u01a1\u0323ng pho\u0300ng: ",null===(t=i.roomNumbers)||void 0===t?void 0:t.length,")"),l.a.createElement("div",{className:"modifyRoomCount"},l.a.createElement("label",{style:{display:"flex",justifyContent:"flex-start",gap:"10px",alignItems:"center"}},"Nh\u1eadp l\u01b0\u1ee3ng ph\xf2ng c\u1ea7n th\xeam (t\u0103ng):",l.a.createElement("input",{type:"number",value:g,onChange:e=>{const t=parseInt(e.target.value);p(t)},min:1})),l.a.createElement("button",{style:{backgroundColor:"rgb(91, 248, 0)"},className:"modifyRoomCount_btn",onClick:async e=>{try{200===(await u.a.put("/rooms/addRoomToRoomType/".concat(r),{roomCountToAdd:g})).status&&(V.b.success("Th\xeam tha\u0300nh c\xf4ng"),d())}catch(m){console.log(m)}p(0)}},"Th\xeam"),l.a.createElement("label",{style:{display:"flex",justifyContent:"flex-start",gap:"10px",alignItems:"center"}},"Nh\u1eadp l\u01b0\u1ee3ng ph\xf2ng c\u1ea7n x\xf3a (gia\u0309m):",l.a.createElement("input",{type:"number",value:E,onChange:e=>{v(parseInt(e.target.value))},max:null===(a=i.roomNumbers)||void 0===a?void 0:a.length,min:1})),l.a.createElement("button",{style:{backgroundColor:"red"},className:"modifyRoomCount_btn",onClick:async e=>{try{200===(await u.a.put("/rooms/deleteRoomInRoomType/".concat(r),{roomCountToDelete:E})).status&&(V.b.success("Xo\u0301a tha\u0300nh c\xf4ng"),d())}catch(m){V.b.error(m.response.data.message),d(),console.log(m)}v(0)}},"Xoa\u0301")),l.a.createElement("div",{style:{fontStyle:"italic",marginBottom:"10px"}},"(V\u01a1\u0301i nh\u01b0\u0303ng pho\u0300ng \u0111a\u0303 co\u0301 \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng ho\u0103\u0323c \u0111\u01a1n \u0111o\u0301ng pho\u0300ng trong th\u01a1\u0300i gian t\u01a1\u0301i se\u0303 hi\xea\u0323n ma\u0300u \u0111o\u0309, kh\xf4ng th\xea\u0309 xo\u0301a \u0111\u01b0\u01a1\u0323c (S\xf4\u0301 l\u01b0\u01a1\u0323ng pho\u0300ng \u0111o\u0309 la\u0300 s\xf4\u0301 l\u01b0\u01a1\u0323ng pho\u0300ng t\xf4\u0301i thi\xea\u0309u c\xe2\u0300n gi\u01b0\u0303). Trong tr\u01b0\u01a1\u0300ng h\u01a1\u0323p \u0111o\u0301, n\xea\u0301u ba\u0323n mu\xf4\u0301n gia\u0309m s\xf4\u0301 l\u01b0\u01a1\u0323ng pho\u0300ng, ba\u0323n co\u0301 th\xea\u0309 y\xeau c\xe2\u0300u hu\u0309y \u0111\u01a1n cu\u0309a kha\u0301ch ho\u0103\u0323c s\u01b0\u0309 du\u0323ng ch\u01b0\u0301c n\u0103ng \u0111o\u0301ng pho\u0300ng. )"),l.a.createElement("div",{style:{backgroundColor:"#ccc"},className:"roomNumberContainer"},l.a.createElement("div",{className:"roomNumber"},"STT"),l.a.createElement("div",{className:"roomNumber"},"ID pho\u0300ng"),l.a.createElement("div",{style:{width:"20%"},className:"roomNumber"},"Ti\u0300nh tra\u0323ng")),null===(c=i.roomNumbers)||void 0===c?void 0:c.map((e,t)=>l.a.createElement("div",{key:t,className:"roomNumberContainer",style:{backgroundColor:b(e)?"":"red"}},l.a.createElement("div",{className:"roomNumber"},t+1),l.a.createElement("div",{className:"roomNumber",style:{fontWeight:"unset"}},e._id),b(e)?l.a.createElement("div",{className:"roomNumber"}):l.a.createElement("div",{className:"roomNumber"},"\u0110a\u0303 \u0111\u0103\u0323t ho\u0103\u0323c \u0111o\u0301ng"))))))};a(349);var Ke=e=>{let{status:t}=e;return l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(S,{type:"list"}),l.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},className:"statusTransactionContainer"},"success"===t?l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{style:{color:"green"}},"\u0110\u1eb7t ph\xf2ng th\xe0nh c\xf4ng"),l.a.createElement("button",{style:{width:"20%"},onClick:()=>{window.location.href="/bookings"}},"Xem \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng cu\u0309a ba\u0323n")):"fail"===t?l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{style:{color:"red"}},"\u0110\u1eb7t ph\xf2ng th\u1ea5t b\u1ea1i"),l.a.createElement("button",{onClick:()=>{window.location.href="/"}},"Quay v\u1ec1 trang ch\u1ee7")):l.a.createElement("h1",null,"Tr\u1ea1ng th\xe1i kh\xf4ng h\u1ee3p l\u1ec7")))};a(350);var Xe=e=>{let{modify:t}=e;const[a,c]=Object(n.useState)({oldPassword:void 0,newPassword:void 0,newPasswordRepeat:void 0}),o=e=>{c(t=>({...t,[e.target.id]:e.target.value}))};console.log(a);return l.a.createElement("div",{className:"listAdmin"},l.a.createElement(ae,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null),"changePassword"===t?l.a.createElement("div",{className:"modifyUserContainer"},l.a.createElement("h1",null,"\u0110\xf4\u0309i m\xe2\u0323t kh\xe2\u0309u"),l.a.createElement("div",{className:"modifyUserContainer_changePassword"},l.a.createElement("input",{type:"password",placeholder:"Nh\xe2\u0323p m\xe2\u0323t kh\xe2\u0309u cu\u0303",id:"oldPassword",onChange:o}),l.a.createElement("input",{type:"password",placeholder:"Nh\xe2\u0323p m\xe2\u0323t kh\xe2\u0309u m\u01a1\u0301i",id:"newPassword",onChange:o}),l.a.createElement("input",{type:"password",placeholder:"Nh\xe2\u0323p la\u0323i m\xe2\u0323t kh\xe2\u0309u m\u01a1\u0301i",id:"newPasswordRepeat",onChange:o}),l.a.createElement("button",{onClick:async e=>{if(e.preventDefault(),a.newPassword===a.newPasswordRepeat&&a.newPassword&&a.oldPassword)try{200===(await u.a.post("/auth/changePassword",a)).status&&V.b.success("\u0110\xf4\u0309i m\xe2\u0323t kh\xe2\u0309u tha\u0300nh c\xf4ng")}catch(t){console.log(t)}else V.b.error("M\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp ho\u0103\u0323c ba\u0323n ch\u01b0a \u0111i\xea\u0300n \u0111u\u0309 t\u01b0\u0300")}},"\u0110\xf4\u0309i m\xe2\u0323t kh\xe2\u0309u"))):"updatePaymentInfo"===t?l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"dfdsf")):l.a.createElement("h1",null,"Tr\u1ea1ng th\xe1i kh\xf4ng h\u1ee3p l\u1ec7")))};a(351);var Ye=()=>{const{data:e,loading:t,error:a}=I("/users/getUserByTokenId"),[c,o]=Object(n.useState)(e);return Object(n.useEffect)(()=>{e&&o(e)},[e]),l.a.createElement("div",{className:"listAdmin"},l.a.createElement(ae,null),l.a.createElement("div",{className:"listContainerAdmin"},l.a.createElement(ne,null),l.a.createElement("div",{className:"updatePaymentContainer"},l.a.createElement("h1",null,"C\xe2\u0323p nh\xe2\u0323t th\xf4ng tin ta\u0300i khoa\u0309n nh\xe2\u0323n thanh toa\u0301n"),t?l.a.createElement("div",null,"Loading..."):l.a.createElement("div",{className:"updatePaymentContainer_input"},l.a.createElement("input",{type:"text",id:"paymentInfo",value:c.paymentInfo,onChange:e=>{o(t=>({...t,[e.target.id]:e.target.value}))}}),l.a.createElement("button",{onClick:async e=>{e.preventDefault(),await u.a.put("/users",c)?V.b.success("Th\xe0nh c\xf4ng chi\u0309nh s\u01b0\u0309a!"):V.b.error("Error.Please try again")}},"C\xe2\u0323p nh\xe2\u0323t")))))};a(352);var Je=()=>l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(S,{type:"list"}),l.a.createElement("div",{className:"policyContainer"},l.a.createElement("h1",null,"Ca\u0301c chi\u0301nh sa\u0301ch"),l.a.createElement("h2",null,"Chi\u0301nh sa\u0301ch hu\u0309y"),l.a.createElement("p",null,"\u0110\u1ec3 tr\xe1nh ca\u0301c v\xe2\u0301n \u0111\xea\u0300 \u0111\u1eb7t ph\xf2ng do nh\u1ea7m l\u1eabn, ch\xfang t\xf4i t\u1ef1 \u0111\u1ed9ng mi\u1ec5n ph\xed h\u1ee7y cho c\xe1c kh\xe1ch h\u1ee7y trong v\xf2ng 24 gi\u1edd k\u1ec3 t\u1eeb th\u1eddi \u0111i\u1ec3m \u0111\u1eb7t. ",l.a.createElement("br",null),"Trong khoa\u0309ng th\u01a1\u0300i gian 3 nga\u0300y tr\u01b0\u01a1\u0301c nga\u0300y nh\xe2\u0323n pho\u0300ng, quy\u0301 kha\u0301ch se\u0303 bi\u0323 ti\u0301nh phi\u0301 cho gia\u0301 \u0111\xeam \u0111\xe2\u0300u n\xea\u0301u hu\u0309y \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng. Quy\u0301 kha\u0301ch vui lo\u0300ng c\xe2n nh\u0103\u0301c ky\u0303 tr\u01b0\u01a1\u0301c khi quy\xea\u0301t \u0111i\u0323nh hu\u0309y \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng.",l.a.createElement("br",null),'\u0110\xf4\u0301i v\u01a1\u0301i chu\u0309 ch\xf4\u0303 nghi\u0309, n\xea\u0301u vi\u0300 m\xf4\u0323t ly\u0301 do \u0111\u0103\u0323c bi\xea\u0323t (nh\u01b0 pho\u0300ng b\xe2\u0301t ch\u01a1\u0323t bi\u0323 ho\u0309ng ho\u0301c kh\xf4ng th\xea\u0309 phu\u0323c vu\u0323 kha\u0301ch), quy\u0301 vi\u0323 co\u0301 th\xea\u0309 y\xeau c\xe2\u0300u kha\u0301ch hu\u0309y \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng trong mu\u0323c "\u0110\u01a1n \u0111\u0103\u0323t pho\u0300ng" va\u0300 b\xe2\u0301m va\u0300o nu\u0301t "Y\xeau c\xe2\u0300u hu\u0309y". Kha\u0301ch se\u0303 nh\xe2\u0323n \u0111\u01b0\u01a1\u0323c email th\xf4ng ba\u0301o v\xea\u0300 y\xeau c\xe2\u0300u hu\u0309y cu\u0309a quy\u0301 kha\u0301ch. Tuy nhi\xean l\u01b0u y\u0301 r\u0103\u0300ng \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng v\xe2\u0303n se\u0303 co\u0301 hi\xea\u0323u l\u01b0\u0323c cho \u0111\xea\u0301n khi kha\u0301ch xa\u0301c nh\xe2\u0323n hu\u0309y \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng. Trong tr\u01b0\u01a1\u0300ng h\u01a1\u0323p kha\u0301ch na\u0300y n\xea\u0301u kha\u0301ch \u0111\xf4\u0300ng y\u0301 hu\u0309y \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng, kha\u0301ch se\u0303 kh\xf4ng m\xe2\u0301t phi\u0301 hu\u0309y va\u0300 quy\u0301 vi\u0323 kh\xf4ng nh\xe2\u0323n \u0111\u01b0\u01a1\u0323c phi\u0301 hu\u0309y.'),l.a.createElement("h2",null,"Chi\u0301nh sa\u0301ch hoa h\xf4\u0300ng"),l.a.createElement("p",null,"\u0110\xf4\u0301i v\u01a1\u0301i \u0111\xf4\u0301i ta\u0301c cu\u0309a chu\u0301ng t\xf4i(chu\u0309 nh\u01b0\u0303ng kha\u0301ch sa\u0323n va\u0300 ch\xf4\u0303 nghi\u0309), chu\u0301ng t\xf4i se\u0303 ti\u0301nh phi\u0301 10% hoa h\xf4\u0300ng cho m\xf4\u0303i \u0111\u01a1n \u0111\u0103\u0323t pho\u0300ng tha\u0300nh c\xf4ng cu\u0309a quy\u0301 kha\u0301ch. Phi\u0301 hoa h\xf4\u0300ng na\u0300y cu\u0303ng \u0111\u01b0\u01a1\u0323c a\u0301p du\u0323ng cho phi\u0301 hu\u0309y cu\u0309a nh\u01b0\u0303ng \u0111\u01a1n hu\u0309y kh\xf4ng trong di\xea\u0323n hu\u0309y mi\xea\u0303n phi\u0301. Ti\xea\u0300n cu\u0309a quy\u0301 vi\u0323 se\u0303 \u0111\u01b0\u01a1\u0323c thanh toa\u0301n trong 10 nga\u0300y \u0111\xe2\u0300u ti\xean cu\u0309a m\xf4\u0303i tha\u0301ng, quy\u0301 kha\u0301ch co\u0301 th\xea\u0309 c\xe2\u0323p nh\xe2\u0323t ta\u0300i khoa\u0309n nh\xe2\u0323n thanh toa\u0301n cu\u0309a quy\u0301 kha\u0301ch ta\u0323i \u0111\xe2y     ",l.a.createElement("a",{href:"/admin/updatePaymentInfo"},"C\xe2\u0323p nh\xe2\u0323t th\xf4ng tin thanh toa\u0301n"))));var Qe=function(){const e=e=>{let{children:t}=e;const[a,c]=Object(n.useState)(!0),[o,r]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!0);return Object(n.useEffect)(()=>{(async()=>{try{200===(await fetch("/auth/checkHasAccessToken")).status&&r(!0)}catch(e){console.error("Error checking access token:",e)}finally{c(!1)}})()},[]),a?l.a.createElement("h1",null,"Loading ...."):o?t:l.a.createElement(h.a,{to:"/login"})},t=e=>{let{children:t}=e;const[a,c]=Object(n.useState)(!0),[o,r]=Object(n.useState)(!1),[i,s]=Object(n.useState)(!0);return Object(n.useEffect)(()=>{(async()=>{try{200===(await fetch("/auth/checkHasAccessTokenAdministrator")).status&&r(!0)}catch(e){console.error("Error checking access token:",e)}finally{c(!1)}})()},[]),a?l.a.createElement("h1",null,"Loading ...."):o?t:l.a.createElement(h.a,{to:"/login"})};return l.a.createElement(r.a,null,l.a.createElement(h.d,null,l.a.createElement(h.b,{path:"/",element:l.a.createElement(B,null)}),l.a.createElement(h.b,{path:"/hotels",element:l.a.createElement(M,null)}),l.a.createElement(h.b,{path:"/hotels/:id",element:l.a.createElement(W,null)}),l.a.createElement(h.b,{path:"/login",element:l.a.createElement(z,null)}),l.a.createElement(h.b,{path:"/register",element:l.a.createElement(G,null)}),l.a.createElement(h.b,{path:"/bookings",element:l.a.createElement(e,null,l.a.createElement(xe,null))}),l.a.createElement(h.b,{path:"/reserve",element:l.a.createElement(e,null,l.a.createElement(ke,null))}),l.a.createElement(h.b,{path:"/policy",element:l.a.createElement(Je,null)}),l.a.createElement(h.b,{path:"/statusTransaction/success",element:l.a.createElement(Ke,{status:"success"})}),l.a.createElement(h.b,{path:"/statusTransaction/fail",element:l.a.createElement(Ke,{status:"fail"})}),l.a.createElement(h.b,{path:"/administrator",element:l.a.createElement(t,null,l.a.createElement(Le,null))}),l.a.createElement(h.b,{path:"/administrator/allHotelPayments",element:l.a.createElement(t,null,l.a.createElement(Ue,null))}),l.a.createElement(h.b,{path:"/admin/"},l.a.createElement(h.b,{index:!0,element:l.a.createElement(e,null,l.a.createElement(le,null))}),l.a.createElement(h.b,{path:"changePassword",element:l.a.createElement(e,null,l.a.createElement(Xe,{modify:"changePassword"}))}),l.a.createElement(h.b,{path:"updatePaymentInfo",element:l.a.createElement(e,null,l.a.createElement(Ye,null))}),l.a.createElement(h.b,{path:"hotels",element:l.a.createElement(e,null,l.a.createElement(se,null))}),l.a.createElement(h.b,{path:"hotels/new",element:l.a.createElement(e,null,l.a.createElement(he,null))}),l.a.createElement(h.b,{path:"hotels/:id",element:l.a.createElement(e,null,l.a.createElement(ue,null))}),l.a.createElement(h.b,{path:"hotels/revenue/:id",element:l.a.createElement(e,null,l.a.createElement(_e,null))}),l.a.createElement(h.b,{path:"rooms",element:l.a.createElement(e,null,l.a.createElement(Ce,null))}),l.a.createElement(h.b,{path:"rooms/new",element:l.a.createElement(e,null,l.a.createElement(Oe,null))}),l.a.createElement(h.b,{path:"rooms/:id",element:l.a.createElement(e,null,l.a.createElement(De,null))}),l.a.createElement(h.b,{path:"rooms/smallRoomDetails/:id",element:l.a.createElement(e,null,l.a.createElement(Ge,null))}),l.a.createElement(h.b,{path:"rooms/smallRoomDetails/modifyRoomCount/:id",element:l.a.createElement(e,null,l.a.createElement(qe,null))}),l.a.createElement(h.b,{path:"reservations",element:l.a.createElement(e,null,l.a.createElement(Te,null))}))),l.a.createElement(V.a,null))};o.a.createRoot(document.getElementById("root")).render(l.a.createElement(d,null,l.a.createElement(D,null,l.a.createElement(Qe,null))))}},[[270,1,2]]]);
//# sourceMappingURL=main.633db66e.chunk.js.map